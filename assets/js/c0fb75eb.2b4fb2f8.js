"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[421],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(a),m=o,h=c["".concat(i,".").concat(m)]||c[m]||d[m]||r;return a?n.createElement(h,l(l({ref:t},u),{},{components:a})):n.createElement(h,l({ref:t},u))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[c]="string"==typeof e?e:o,l[1]=s;for(var p=2;p<r;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294),o=a(6010);const r={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,o.Z)(r.tabItem,l),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(7462),o=a(7294),r=a(6010),l=a(2466),s=a(6550),i=a(1980),p=a(7392),u=a(12);function c(e){return function(e){return o.Children.map(e,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:o}}=e;return{value:t,label:a,attributes:n,default:o}}))}function d(e){const{values:t,children:a}=e;return(0,o.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const n=(0,s.k6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._X)(r),(0,o.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})}),[r,n])]}function k(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,r=d(e),[l,s]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r}))),[i,p]=h({queryString:a,groupId:n}),[c,k]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,r]=(0,u.Nk)(a);return[n,(0,o.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:n}),g=(()=>{const e=i??c;return m({value:e,tabValues:r})?e:null})();(0,o.useLayoutEffect)((()=>{g&&s(g)}),[g]);return{selectedValue:l,selectValue:(0,o.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);s(e),p(e),k(e)}),[p,k,r]),tabValues:r}}var g=a(2389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:a,selectedValue:s,selectValue:i,tabValues:p}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),d=e=>{const t=e.currentTarget,a=u.indexOf(t),n=p[a].value;n!==s&&(c(t),i(n))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:l}=e;return o.createElement("li",(0,n.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:d},l,{className:(0,r.Z)("tabs__item",f.tabItem,l?.className,{"tabs__item--active":s===t})}),a??t)})))}function y(e){let{lazy:t,children:a,selectedValue:n}=e;if(a=Array.isArray(a)?a:[a],t){const e=a.find((e=>e.props.value===n));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},a.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function N(e){const t=k(e);return o.createElement("div",{className:(0,r.Z)("tabs-container",f.tabList)},o.createElement(v,(0,n.Z)({},e,t)),o.createElement(y,(0,n.Z)({},e,t)))}function b(e){const t=(0,g.Z)();return o.createElement(N,(0,n.Z)({key:String(t)},e))}},8093:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>c});var n=a(7462),o=(a(7294),a(3905)),r=a(4866),l=a(5162);const s={id:"vantage_mcp",title:"Vantage MCP",description:"With the Vantage MCP, you can use natural language to explore your organization\u2019s cloud costs via MCP clients, like Claude, Cursor, Goose, and others.",image:"/img/mcp/vantage-mcp.png",keywords:["Model Context Protocol","MCP","Vantage MCP","Hosted MCP","Self-Hosted MCP","Remote MCP"]},i="Vantage MCP",p={unversionedId:"vantage_mcp",id:"vantage_mcp",title:"Vantage MCP",description:"With the Vantage MCP, you can use natural language to explore your organization\u2019s cloud costs via MCP clients, like Claude, Cursor, Goose, and others.",source:"@site/docs/vantage_mcp.md",sourceDirName:".",slug:"/vantage_mcp",permalink:"/vantage_mcp",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/vantage_mcp.md",tags:[],version:"current",frontMatter:{id:"vantage_mcp",title:"Vantage MCP",description:"With the Vantage MCP, you can use natural language to explore your organization\u2019s cloud costs via MCP clients, like Claude, Cursor, Goose, and others.",image:"/img/mcp/vantage-mcp.png",keywords:["Model Context Protocol","MCP","Vantage MCP","Hosted MCP","Self-Hosted MCP","Remote MCP"]},sidebar:"someSidebar",previous:{title:"API",permalink:"/api"},next:{title:"Terraform Provider",permalink:"/terraform"}},u={},c=[{value:"MCP Clients",id:"mcp-clients",level:2},{value:"Access and Rate Limits",id:"access-and-rate-limits",level:2},{value:"Configure the Self-Hosted Vantage MCP",id:"configure-the-self-hosted-vantage-mcp",level:2},{value:"Configure the Remote Vantage MCP",id:"configure-the-remote-vantage-mcp",level:2},{value:"Step 1: Download and Install an MCP Client",id:"step-1-download-and-install-an-mcp-client",level:3},{value:"Step 2: Configure the Vantage MCP Server",id:"step-2-configure-the-vantage-mcp-server",level:3},{value:"Step 3: Authorize the Vantage MCP Server",id:"step-3-authorize-the-vantage-mcp-server",level:3},{value:"Step 4: Prompt the Vantage MCP Server",id:"step-4-prompt-the-vantage-mcp-server",level:3},{value:"Revoke MCP Access Token",id:"revoke-mcp-access-token",level:2},{value:"Vantage MCP Tools",id:"mcp-tools",level:2},{value:"Examples: Prompt the Vantage MCP",id:"examples-prompt-the-vantage-mcp",level:2},{value:"Prompting Best Practices",id:"best-practices",level:3},{value:"Additional Prompt Examples",id:"additional-prompt-examples",level:3},{value:"Feedback",id:"feedback",level:2}],d={toc:c},m="wrapper";function h(e){let{components:t,...a}=e;return(0,o.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"vantage-mcp"},"Vantage MCP"),(0,o.kt)("p",null,"With the Vantage MCP (",(0,o.kt)("a",{parentName:"p",href:"https://modelcontextprotocol.io/introduction"},"Model Context Protocol"),"), you can use natural language to explore your organization\u2019s cloud costs via MCP clients, like Claude, Cursor, Goose, and others. Ask questions about your organization's previous and current cloud cost spend, cost tagging, provider integrations, and more. The MCP lets you interact with your cloud cost data through AI assistants and MCP clients. By acting as a bridge to Vantage's existing APIs, the Vantage MCP Server lets you query cloud spend data using natural language and makes cost analysis more intuitive. "),(0,o.kt)("p",null,"Vantage has a remote and self-hosted version of the MCP."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Self-Hosted MCP"),": With the Self-Hosted MCP, customers are responsible for deploying and managing their own instance of the MCP server, which includes managing API keys, handling authentication, and performing regular updates to keep up with new releases."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Remote MCP:")," With the Remote Vantage MCP, Vantage manages all the above items. Customers do not need to deploy a new instance of the MCP when updates are released.")),(0,o.kt)("h2",{id:"mcp-clients"},"MCP Clients"),(0,o.kt)("admonition",{title:"MCP Client vs. MCP Server",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"An MCP client (e.g., Claude, Cursor, Goose) is any AI agent or interface that can communicate using the Model Context Protocol to query backend services (i.e., servers), such as the Vantage MCP Server. The Vantage MCP Server acts as a backend service that translates natural language queries from clients into API calls to systems like Vantage. ")),(0,o.kt)("p",null,"The Vantage MCP Server is compatible with any AI agent that provide MCP client functionality. Examples of supported clients include: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Anthropic\u2019s ",(0,o.kt)("a",{parentName:"li",href:"https://claude.ai"},"Claude")," Desktop application"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.cursor.com/"},"Cursor")," IDE"),(0,o.kt)("li",{parentName:"ul"},"Block\u2019s local AI agent, ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/block/goose"},"Goose"))),(0,o.kt)("p",null,"You can find a complete list of example clients in the ",(0,o.kt)("a",{parentName:"p",href:"https://modelcontextprotocol.io/clients"},"MCP documentation"),"."),(0,o.kt)("h2",{id:"access-and-rate-limits"},"Access and Rate Limits"),(0,o.kt)("p",null,"Prompts sent to the Vantage MCP are processed entirely within the AI client\u2019s environment and are not visible to Vantage. While Vantage can see which APIs are called on your behalf, it does not have access to the content of your prompts."),(0,o.kt)("p",null,"The Vantage MCP Server itself does not impose explicit rate limits; however, usage is subject to Vantage's underlying API rate limits, which are applied at the account level. These limits include a general rate limit of 1,000 requests per hour across all API endpoints, and a more restrictive limit of 5 requests per 5 seconds, specifically for Cost Report endpoints."),(0,o.kt)("p",null,"These limits are account-wide rather than per-user restrictions, meaning all API activity within your Vantage account contributes to these thresholds. In addition, when using the MCP with AI agents, you should consider the token limits and processing constraints of your chosen AI platform, as these may also impact your overall usage patterns and workflow efficiency."),(0,o.kt)("h2",{id:"configure-the-self-hosted-vantage-mcp"},"Configure the Self-Hosted Vantage MCP"),(0,o.kt)("p",null,"Follow the steps provided in the Self-Hosted MCP\u2019s ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vantage-sh/vantage-mcp-server"},"GitHub repository"),". These instructions will provide you with all necessary prerequisites needed to set up and deploy the self-hosted, local MCP."),(0,o.kt)("h2",{id:"configure-the-remote-vantage-mcp"},"Configure the Remote Vantage MCP"),(0,o.kt)("p",null,"Before getting started, make sure you have an active Vantage account. Authentication with the remote MCP uses OAuth. Once you\u2019ve configured your client, a browser window is displayed, which prompts you to log in to Vantage, just like you would at ",(0,o.kt)("a",{parentName:"p",href:"https://console.vantage.sh/"},"console.vantage.sh"),"."),(0,o.kt)("p",null,"You can't use a remote MCP instance without linking it to a Vantage user, since authentication is handled through existing Vantage accounts. If you need to support users who don't have Vantage accounts, use the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vantage-sh/vantage-mcp-server"},"self-hosted MCP"),", which supports API key-based authentication."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Guidance is provided below for how to install with some popular clients, like Claude and Goose. Instructions for your specific client may vary. Follow")),(0,o.kt)("admonition",{title:"ChatGPT Users",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"At this time, the official ChatGPT client supports MCP clients only for deep research. General-use MCPs, like Vantage, are not supported. You can use the Goose client to connect to the ChatGPT-powered LLMs, and also connect to the Vantage MCP server. ")),(0,o.kt)("h3",{id:"step-1-download-and-install-an-mcp-client"},"Step 1: Download and Install an MCP Client"),(0,o.kt)(r.Z,{groupId:"mcp",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"claude",label:"Claude",default:!0,mdxType:"TabItem"},"Download\xa0",(0,o.kt)("a",{href:"https://claude.ai/download"},"Claude for Desktop")," for your operating system."),(0,o.kt)(l.Z,{value:"goose",label:"Goose",default:!0,mdxType:"TabItem"},"Download\xa0",(0,o.kt)("a",{href:"https://block.github.io/goose/docs/getting-started/installation/"},"Goose")," for your operating system and configure an LLM provider.")),(0,o.kt)("h3",{id:"step-2-configure-the-vantage-mcp-server"},"Step 2: Configure the Vantage MCP Server"),(0,o.kt)(r.Z,{groupId:"mcp",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"claude",label:"Claude",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"From the top of Claude for Desktop, click\xa0Claude > Settings\xa0(keyboard shortcut\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"Command + ,"),").")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"From the left menu of the ",(0,o.kt)("strong",{parentName:"p"},"Settings")," pane, select\xa0",(0,o.kt)("strong",{parentName:"p"},"Developer"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Edit Config"),". A configuration file is created at:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"macOS:"),"\xa0",(0,o.kt)("inlineCode",{parentName:"li"},"~/Library/Application Support/Claude/claude_desktop_config.json")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Windows:")," ",(0,o.kt)("inlineCode",{parentName:"li"},"%APPDATA%\\Claude\\claude_desktop_config.json")))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open the ",(0,o.kt)("inlineCode",{parentName:"p"},"claude_desktop_config.json")," file and update its contents. Then, save the file and restart Claude."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'{\n    "mcpServers": {\n        "Vantage MCP Server": {\n        "command": "npx",\n        "args": ["-y", "mcp-remote", "https://mcp.vantage.sh/sse"],\n        "env": {}\n        }\n    }\n}\n'))))),(0,o.kt)(l.Z,{value:"goose",label:"Goose",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From the left navigation pane in Goose, click ",(0,o.kt)("strong",{parentName:"li"},"Extensions.")," "),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Extensions")," screen, click ",(0,o.kt)("strong",{parentName:"li"},"+")," A",(0,o.kt)("strong",{parentName:"li"},"dd custom extension"),"."),(0,o.kt)("li",{parentName:"ol"},"Enter the following extension details:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("strong",{parentName:"li"},"Extension Name"),", enter ",(0,o.kt)("em",{parentName:"li"},"Vantage"),"."),(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("strong",{parentName:"li"},"Type"),", select ",(0,o.kt)("strong",{parentName:"li"},"STDIO"),". "),(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("strong",{parentName:"li"},"Command"),", enter ",(0,o.kt)("inlineCode",{parentName:"li"},"npx -y mcp-remote https://mcp.vantage.sh/sse"),".",(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Create an extension in Goose",width:"60%",src:"/img/mcp/goose-extension.png"}))))),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Add Extension"),". ")))),(0,o.kt)("h3",{id:"step-3-authorize-the-vantage-mcp-server"},"Step 3: Authorize the Vantage MCP Server"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You may need to close and reopen your client for the authorization screen to display.")),(0,o.kt)("p",null,"After you configure the MCP server, an authorization screen is displayed in your browser. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Read the authorization information. Then, click ",(0,o.kt)("strong",{parentName:"li"},"Allow Access")," to proceed.",(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Authorize the MCP in Vantage",width:"60%",src:"/img/mcp/vantage-auth.png"}))),(0,o.kt)("li",{parentName:"ol"},"You will then be prompted to log in to Vantage with your username and password or authenticate via SSO. After you log in to Vantage, you will have access to the Vantage MCP server.")),(0,o.kt)("h3",{id:"step-4-prompt-the-vantage-mcp-server"},"Step 4: Prompt the Vantage MCP Server"),(0,o.kt)(r.Z,{groupId:"mcp",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"claude",label:"Claude",mdxType:"TabItem"},(0,o.kt)("p",null,"Start a new chat to begin prompting Claude. For example, you can ask, ",(0,o.kt)("em",{parentName:"p"},"\u201cIn Vantage, which workspaces do I have access to?\u201d")," Claude uses the appropriate ",(0,o.kt)("a",{parentName:"p",href:"/vantage_mcp#mcp-tools"},"MCP tool")," and replies with workspace access details."),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Chatting with Claude and Vantage MCP",width:"80%",src:"/img/mcp/claude-chat.png"})),(0,o.kt)("p",null,"Each time Claude uses a new tool, you'll be asked to approve it. Click ",(0,o.kt)("strong",{parentName:"p"},"Allow Always")," to grant ongoing access, or ",(0,o.kt)("strong",{parentName:"p"},"Allow Once")," to approve it just this time."),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Authorizing a tool in Claude",width:"50%",src:"/img/mcp/claude-tools.png"})),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You may encounter conversation limits when prompting Claude. If you encounter a limit, create a new chat. As a best practice, keep separate topics in separate chats for better organization."))),(0,o.kt)(l.Z,{value:"goose",label:"Goose",mdxType:"TabItem"},(0,o.kt)("p",null,"Start a new chat to begin prompting Goose. For example, you can ask, ",(0,o.kt)("em",{parentName:"p"},"\u201cIn Vantage, which workspaces do I have access to?\u201d")," Goose uses the appropriate MCP tool and replies with workspace access details."),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Chatting with Goose and Vantage MCP",width:"80%",src:"/img/mcp/goose-chat.png"})))),(0,o.kt)("h2",{id:"revoke-mcp-access-token"},"Revoke MCP Access Token"),(0,o.kt)("p",null,"You can revoke your MCP Access Token at any time in the Vantage console. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From the top navigation in Vantage, click ",(0,o.kt)("strong",{parentName:"li"},"Settings"),"."),(0,o.kt)("li",{parentName:"ol"},"On the left navigation, under ",(0,o.kt)("strong",{parentName:"li"},"General Settings"),", select ",(0,o.kt)("strong",{parentName:"li"},"API Access Tokens"),"."),(0,o.kt)("li",{parentName:"ol"},"Select the ",(0,o.kt)("strong",{parentName:"li"},"MCP Server Token")," tab. "),(0,o.kt)("li",{parentName:"ol"},"To delete your token, click ",(0,o.kt)("strong",{parentName:"li"},"Remove MCP Access"),". You can restore access at any time by re-entering the authentication flow with an MCP client.")),(0,o.kt)("h2",{id:"mcp-tools"},"Vantage MCP Tools"),(0,o.kt)("p",null,"MCP tools \u201care a powerful primitive in the Model Context Protocol (MCP) that enable servers to expose executable functionality to clients. Through tools, LLMs can interact with external systems, perform computations, and take actions in the real world\u201d (",(0,o.kt)("a",{parentName:"p",href:"https://modelcontextprotocol.io/docs/concepts/tools"},"Source"),"). The Vantage MCP exposes the following tools:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Tool"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"get-cost-report-forecast")),(0,o.kt)("td",{parentName:"tr",align:null},"List all spending forecasts related to a Cost Report.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"get-myself")),(0,o.kt)("td",{parentName:"tr",align:null},"A utility to list available workspaces and check the access level of your authentication token.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-anomalies")),(0,o.kt)("td",{parentName:"tr",align:null},"List of anomalies that were detected on Cost Reports.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-budgets")),(0,o.kt)("td",{parentName:"tr",align:null},"List all budgets available to compare against a Cost Report and track spending.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-cost-integrations")),(0,o.kt)("td",{parentName:"tr",align:null},"List all cost provider integrations (e.g., AWS, Azure, GCP) available to provide costs data from and their associated accounts.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-cost-providers")),(0,o.kt)("td",{parentName:"tr",align:null},"List of the providers that the given workspace has shared with it, for filtering in ",(0,o.kt)("a",{parentName:"td",href:"/vql"},"Vantage Query Language (VQL)")," queries.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-cost-reports")),(0,o.kt)("td",{parentName:"tr",align:null},"List all available Cost Reports.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-cost-services")),(0,o.kt)("td",{parentName:"tr",align:null},"Lists all the services and their associated provider that is shared with the given workspace.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-costs")),(0,o.kt)("td",{parentName:"tr",align:null},"Display all the costs in an associated Cost Report.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-dashboards")),(0,o.kt)("td",{parentName:"tr",align:null},"List of all dashboards created in the Vantage account.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-tag-values")),(0,o.kt)("td",{parentName:"tr",align:null},"List of tag values that can be used to filter Cost Reports.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-tags")),(0,o.kt)("td",{parentName:"tr",align:null},"List of tags that can be used to filter Cost Reports.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"list-unit-costs")),(0,o.kt)("td",{parentName:"tr",align:null},"Retrieve the unit costs for a given Cost Report.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"query-costs")),(0,o.kt)("td",{parentName:"tr",align:null},"A general-purpose way to fetch cost data using VQL.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"submit-user-feedback")),(0,o.kt)("td",{parentName:"tr",align:null},"Send feedback about the MCP or overall Vantage experience to the Vantage team.")))),(0,o.kt)("h2",{id:"examples-prompt-the-vantage-mcp"},"Examples: Prompt the Vantage MCP"),(0,o.kt)("p",null,"When you use the Vantage MCP, consider constructing clear and well-structured prompts to get the exact response you are looking for. This method helps your AI client understand your intent and provides you with the best response. You can provide relevant context, such as specific workspaces, timeframes, or services. See the ",(0,o.kt)("a",{parentName:"p",href:"/vantage_mcp#best-practices"},"Prompting Best Practices")," section for some additional tips."),(0,o.kt)("p",null,"Consider the below example. In this example, the user has chosen to use Claude to interact with the Vantage MCP. This user is part of an organization that has multiple workspaces on Vantage."),(0,o.kt)("p",null,"The user asks:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"How much did we spend on S3 in us-east-1 over the last 30 days?"))),(0,o.kt)("p",null,"Claude responds:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"I'll help you find your S3 spending in us-east-1 over the last 30 days. First, let me check your workspace information and available cost providers."))),(0,o.kt)("p",null,"The MCP\u2019s ",(0,o.kt)("inlineCode",{parentName:"p"},"get-myself")," tool is then used to retrieve:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"User identity"),(0,o.kt)("li",{parentName:"ul"},"Accessible workspaces"),(0,o.kt)("li",{parentName:"ul"},"Cost provider connections (e.g., AWS)")),(0,o.kt)("p",null,"Claude identifies that the user has access to multiple workspaces and selects the default one to proceed:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"I can see you have access to multiple workspaces. To get your S3 spending data, I'll need to know which workspace you'd like me to query. I'll start with the first workspace ('Marketing Workspace') and check for AWS S3 costs."))),(0,o.kt)("p",null,"Now that Claude has the necessary context, it calls the MCP\u2019s ",(0,o.kt)("inlineCode",{parentName:"p"},"query-costs")," tool with scoped filters:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},"{\n  `filter`: `(costs.provider = 'aws' AND costs.service = 'Amazon Simple Storage Service' AND costs.region = 'us-east-1')`,\n  `date_bin`: `day`,\n  `end_date`: `2025-07-22`,\n  `start_date`: `2025-06-22`,\n  `workspace_token`: `wrkspc_1234567`\n}\n")),(0,o.kt)("p",null,"Claude responds:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},'It looks like there are no S3 costs in us-east-1 for Marketing Workspace. Let me try a few other workspaces to see if your S3 costs might be in a different workspace. Let me check the "Management" workspace which seems like it might be a primary workspace.'))),(0,o.kt)("p",null,"It then uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"query-costs")," tool again to look in other workspaces until it finds spend in a workspace. "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"Based on your query for S3 costs in us-east-1 over the last 30 days (June 22 - July 22, 2025), here's what I found:")),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},(0,o.kt)("strong",{parentName:"em"},"S3 Spending Summary (us-east-1, Last 30 Days)"))),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"Total S3 Spend: $55,089.92")),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"The costs are distributed across multiple AWS accounts:")),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},(0,o.kt)("strong",{parentName:"em"},"Top Spending Accounts:"))),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"- Account 123456789: ~$25,850+ (dominant portion of spend)")),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"}," ..."))),(0,o.kt)("p",null,"In addition, daily spending patterns and other insights are provided."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"For quicker, more relevant results, if the user had specified the workspace in the initial question, for example:"),(0,o.kt)("blockquote",{parentName:"admonition"},(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"How much did we spend on S3 in us-east-1 over the last 30 days in the Management Workspace?"))),(0,o.kt)("p",{parentName:"admonition"},"Claude would immediately have the necessary context and could skip the workspace confirmation step, which would result in a quicker, more relevant response.")),(0,o.kt)("h3",{id:"best-practices"},"Prompting Best Practices"),(0,o.kt)("p",null,"Consider using the following best practices when working with the Vantage MCP:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Add context to your prompts. Mention primitives like provider, time frame, workspace, specific service, or tags, when applicable.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Example: What was our GCP BigQuery spend for September and October 2024?")))),(0,o.kt)("li",{parentName:"ul"},"Construct your prompts using group-by statements to help reduce token consumption (e.g., group costs by month as opposed to day)."),(0,o.kt)("li",{parentName:"ul"},"Ask one thing at a time and avoid stacking various unrelated questions. Instead of, ",(0,o.kt)("em",{parentName:"li"},"\u201cWhat were our EC2 costs last month, and also which accounts are over budget, and can you tell me if any tags are missing?\u201d")," consider asking these as separate prompts to keep responses organized and information relevant."),(0,o.kt)("li",{parentName:"ul"},"Be specific. Don\u2019t assume the client knows what terms like \u201cimportant\u201d mean. Instead of ",(0,o.kt)("em",{parentName:"li"},'"What are my most important costs to monitor?"'),", try something more specific, like, ",(0,o.kt)("em",{parentName:"li"},'"Which services have the highest costs without tags?"')," or ",(0,o.kt)("em",{parentName:"li"},'"Which accounts had the biggest increase in spend over the past two months?"'))),(0,o.kt)("h3",{id:"additional-prompt-examples"},"Additional Prompt Examples"),(0,o.kt)("p",null,"Additional examples are provided below for how you can interact with the Vantage MCP."),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Cost Analysis"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How much did we spend on S3 in us-east-1 over the last 30 days in the Management workspace?  "),(0,o.kt)("li",{parentName:"ul"},"What are the top 5 most expensive GCP services this month across all workspaces?  "),(0,o.kt)("li",{parentName:"ul"},"Compare GCP and Azure spend for the last quarter.  "),(0,o.kt)("li",{parentName:"ul"},"Show me my EC2 costs that are tagged with the environment tag."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Forecasting and Planning"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"What is our forecasted cloud spend for next month across all providers?  "),(0,o.kt)("li",{parentName:"ul"},"If we deprecate the ap-northeast-2 AWS region, how much could we save?"))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Tagging and Filtering"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"List all tags available in our default workspace.  "),(0,o.kt)("li",{parentName:"ul"},"Get last month\u2019s Datadog spend filtered by the infra team tag.  "),(0,o.kt)("li",{parentName:"ul"},"Break down Azure costs by the owner tag for the past 90 days."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Anomaly Detection"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Are there any recent major anomalies in our GitHub spend?  "),(0,o.kt)("li",{parentName:"ul"},"Which AWS services spiked in cost over the last 7 days?"))),(0,o.kt)("h2",{id:"feedback"},"Feedback"),(0,o.kt)("p",null,"You can join the free ",(0,o.kt)("a",{parentName:"p",href:"https://vantage.sh/slack"},"Vantage Community Slack")," to connect with other users and the Vantage team. In the ",(0,o.kt)("inlineCode",{parentName:"p"},"#mcp")," channel, share feedback, ask questions, and see how others are using the Vantage MCP server. "),(0,o.kt)("p",null,"You can also use the ",(0,o.kt)("inlineCode",{parentName:"p"},"submit-user-feedback")," tool within the MCP to submit feedback. Send a prompt, like:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},"Can you provide Vantage the following feedback: I love using the MCP!"))))}h.isMDXComponent=!0}}]);