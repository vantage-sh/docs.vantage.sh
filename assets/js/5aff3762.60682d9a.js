"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[1209],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>g});var a=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var s=a.createContext({}),p=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},u=function(t){var e=p(t.components);return a.createElement(s.Provider,{value:e},t.children)},m="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,s=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),m=p(n),d=o,g=m["".concat(s,".").concat(d)]||m[d]||c[d]||r;return n?a.createElement(g,i(i({ref:e},u),{},{components:n})):a.createElement(g,i({ref:e},u))}));function g(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[m]="string"==typeof t?t:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4909:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(7462),o=(n(7294),n(3905));const r={id:"hourly_fcr",title:"Hourly Financial Commitment Reports",description:"How to enable Hourly Financial Commitment Reports.",keywords:["Financial commitment reports","Savings Plans","Reserved Instances","Hourly"]},i="Enabling Hourly Financial Commitment Reports",l={unversionedId:"hourly_fcr",id:"hourly_fcr",title:"Hourly Financial Commitment Reports",description:"How to enable Hourly Financial Commitment Reports.",source:"@site/docs/hourly_fcr.md",sourceDirName:".",slug:"/hourly_fcr",permalink:"/hourly_fcr",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/hourly_fcr.md",tags:[],version:"current",frontMatter:{id:"hourly_fcr",title:"Hourly Financial Commitment Reports",description:"How to enable Hourly Financial Commitment Reports.",keywords:["Financial commitment reports","Savings Plans","Reserved Instances","Hourly"]}},s={},p=[],u={toc:p},m="wrapper";function c(t){let{components:e,...n}=t;return(0,o.kt)(m,(0,a.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"enabling-hourly-financial-commitment-reports"},"Enabling Hourly Financial Commitment Reports"),(0,o.kt)("p",null,"Hourly granularity within Financial Commitment Reports allows users to analyze their financial commitment coverage and utilization by the hour for any 14 day period within their data retention.  "),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Hourly Granularity in Financial Commitment Reports is an Opt-In feature. In order to opt in to Hourly Reporting, please reach out to ",(0,o.kt)("a",{parentName:"p",href:"mailto:support@vantage.sh"},"support@vantage.sh"),". ")),(0,o.kt)("p",null,"This guide will walk you through how to obtain an hourly AWS Cost and Usage Report to enable Hourly Financial Commitment Reporting in Vantage."),(0,o.kt)("h1",{id:"enabling-via-cloudformation"},"Enabling via CloudFormation"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to Cloudformation in the management account (or account the CUR is deployed in), and find the ",(0,o.kt)("strong",{parentName:"li"},"\u201cConnectToVantage-\u201d")," stack")),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-1.png"})," "),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"\u201cUpdate Stack\u201d"),", and then chose ",(0,o.kt)("strong",{parentName:"li"},"\u201cCreate a change set\u201d"))),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-2.png"})," "),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"\u201cUse existing template\u201d"))),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-3.png"})," "),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"You will need to make two changes on this page. ",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Change the ",(0,o.kt)("strong",{parentName:"li"},"ReportName"),", as this must be unique. It is recommended to just append \u201c-hourly\u201d to your existing ",(0,o.kt)("strong",{parentName:"li"},"ReportName")),(0,o.kt)("li",{parentName:"ol"},"From the ",(0,o.kt)("strong",{parentName:"li"},"TimeUnit")," drop down, change from ",(0,o.kt)("strong",{parentName:"li"},"\u201cDAILY\u201d")," to ",(0,o.kt)("strong",{parentName:"li"},"\u201cHOURLY\u201d"))))),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-4a.png"})," "),(0,o.kt)("p",null),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-4b.png"})," "),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Acknowledge the changes that are being made ")),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-5.png"})," "),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Review changes and ",(0,o.kt)("strong",{parentName:"li"},"Submit"))),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-6.png"})," "),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},"Your Change Set will be created for the changes to your resources. This may take a few seconds/minutes. If the ",(0,o.kt)("strong",{parentName:"li"},"\u201cExecute Change Set\u201d")," CTA does is not enabled, hit the refresh button right below it. Once ",(0,o.kt)("strong",{parentName:"li"},"\u201cExecute Change Set\u201d,")," click the button")),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-7.png"})," "),(0,o.kt)("ol",{start:8},(0,o.kt)("li",{parentName:"ol"},"CloudFormation will complete the changes, which include deleting the previous CUR definition and creating a new Hourly CUR")),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-cloudformation-step-8.png"})," "),(0,o.kt)("p",null),(0,o.kt)("h1",{id:"enabling-via-terraform"},"Enabling via Terraform"),(0,o.kt)("p",null,"If you are using the ",(0,o.kt)("a",{parentName:"p",href:"https://registry.terraform.io/modules/vantage-sh/vantage-integration/aws/latest"},"Vantage Terraform Privder AWS Integration Module"),", there is an optional parameter for ",(0,o.kt)("code",null,"cur_report_time_unit"),". Simply update this to ",(0,o.kt)("code",null,"HOURLY")," and apply your changes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-hcl"},'provider "aws" {\n  region = "us-east-1"\n  assume_role {\n    role_arn = "arn:aws:iam::123456789012:role/admin-role"\n  }\n}\n\nmodule "vantage-integration" {\n  source  = "vantage-sh/vantage-integration/aws"\n\n  # Bucket names must be globally unique. It is provisioned with private acl\'s\n  # and only accessed by Vantage via the provisioned cross account role.\n  cur_bucket_name        = "my-company-cur-vantage"\n  # Optional: granularity of the CUR report: "HOURLY" or "DAILY"\n  cur_report_time_unit   = "HOURLY"\n}\n')),(0,o.kt)("h1",{id:"enabling-via-manual-deployment"},"Enabling via Manual Deployment"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Log into AWS, and navigate to the Billing and Cost Management Console. Select Data Exports from the left nav bar")),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-manual-step-1.png"})," "),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},'Click "Create" to create a new CUR definition')),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-manual-step-2.png"})," "),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Create a Data Export with the following parameters")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Export details",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Select Legacy CUR export"),(0,o.kt)("li",{parentName:"ul"},"Enter an Export name (provide any name of your chosing)"))),(0,o.kt)("li",{parentName:"ul"},"Export Content",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Check the box to 'Include resource IDs'"),(0,o.kt)("li",{parentName:"ul"},"Check the box to 'Refresh automatically'"))),(0,o.kt)("li",{parentName:"ul"},"Data Delivery options",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Set report data time granularity to ",(0,o.kt)("code",null,"Hourly")),(0,o.kt)("li",{parentName:"ul"},"Set 'Report versioning' to 'Overwrite existing report'"),(0,o.kt)("li",{parentName:"ul"},"Set compression type to ",(0,o.kt)("code",null,"gzip")))),(0,o.kt)("li",{parentName:"ul"},"Data Export storage settings",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Set the S3 bucket to be the same S3 bucket as the S3 bucket as your existing Vantage CUR"),(0,o.kt)("li",{parentName:"ul"},"Enter ",(0,o.kt)("code",null,"hourly-v1")," as the S3 path prefix"))),(0,o.kt)("li",{parentName:"ul"},'Click "Create Report"')),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)"}},(0,o.kt)("img",{alt:"Cloudformation Console",width:"100%",src:"/img/hourly-manual-step-3.png"})," "))}c.isMDXComponent=!0}}]);