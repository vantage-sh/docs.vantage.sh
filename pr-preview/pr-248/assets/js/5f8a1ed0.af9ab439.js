"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[7567],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=s(n),g=o,m=p["".concat(c,".").concat(g)]||p[g]||d[g]||r;return n?a.createElement(m,l(l({ref:t},u),{},{components:n})):a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=g;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:o,l[1]=i;for(var s=2;s<r;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},326:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=n(7462),o=(n(7294),n(3905));const r={id:"connecting_confluent",title:"Confluent",description:"This page walks through how to integrate Vantage with your Confluent account.",toc_max_heading_level:4,keywords:["Confluent","Connect Confluent"]},l="Confluent",i={unversionedId:"connecting_confluent",id:"connecting_confluent",title:"Confluent",description:"This page walks through how to integrate Vantage with your Confluent account.",source:"@site/docs/connecting_confluent.md",sourceDirName:".",slug:"/connecting_confluent",permalink:"/connecting_confluent",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/connecting_confluent.md",tags:[],version:"current",frontMatter:{id:"connecting_confluent",title:"Confluent",description:"This page walks through how to integrate Vantage with your Confluent account.",toc_max_heading_level:4,keywords:["Confluent","Connect Confluent"]},sidebar:"someSidebar",previous:{title:"Oracle Cloud",permalink:"/connecting_oracle"},next:{title:"PlanetScale",permalink:"/connecting_planetscale"}},c={},s=[{value:"Connect Your Confluent Account",id:"connect-your-confluent-account",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Create the Connection",id:"create-the-connection",level:3},{value:"Step 1: Generate an API Key and Service Account",id:"step-1-generate-an-api-key-and-service-account",level:4},{value:"Step 2: Add the <code>OrganizationAdmin</code> Role to the Service Account",id:"step-2-add-the-organizationadmin-role-to-the-service-account",level:4},{value:"Step: Add the API Key to the Vantage Console",id:"step-add-the-api-key-to-the-vantage-console",level:4},{value:"Next Steps: Manage Workspace Access",id:"next-steps-manage-workspace-access",level:3},{value:"Data Refresh",id:"data-refresh",level:2},{value:"Active Resources",id:"active-resources",level:2},{value:"Confluent Reporting Dimensions",id:"confluent-reporting-dimensions",level:2}],u={toc:s},p="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"confluent"},"Confluent"),(0,o.kt)("p",null,"Vantage integrates with your Confluent account using a Confluent API key and secret to access the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.confluent.io/cloud/current/billing/overview.html#retrieve-costs-for-a-range-of-dates"},"Billing API"),". This endpoint provides structured cost data, broken down by category (e.g., Kafka or Connect), resource (e.g., Kafka Cluster), and subcategory (e.g., Kafka Storage or Connect Capacity)."),(0,o.kt)("p",null,"Vantage currently supports the following Confluent products:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Kafka"),(0,o.kt)("li",{parentName:"ul"},"Connect"),(0,o.kt)("li",{parentName:"ul"},"KSQL"),(0,o.kt)("li",{parentName:"ul"},"Audit Logs"),(0,o.kt)("li",{parentName:"ul"},"Cluster Links"),(0,o.kt)("li",{parentName:"ul"},"Custom Connect"),(0,o.kt)("li",{parentName:"ul"},"Support Cloud")),(0,o.kt)("h2",{id:"connect-your-confluent-account"},"Connect Your Confluent Account"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://console.vantage.sh/signup"},"Create a free Vantage account"),", then follow the steps below to generate a Confluent API key."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To access the Billing API, Vantage needs the ",(0,o.kt)("inlineCode",{parentName:"p"},"OrganizationAdmin")," role attached to the service account (instructions provided below). The ",(0,o.kt)("inlineCode",{parentName:"p"},"OrganizationAdmin")," role provides read/write access; however, Vantage will never perform write operations and will only read from the Billing API and Organizations API.")),(0,o.kt)("h3",{id:"create-the-connection"},"Create the Connection"),(0,o.kt)("p",null,"Generate an API key, create a service account, then attach the right role to the service account."),(0,o.kt)("h4",{id:"step-1-generate-an-api-key-and-service-account"},"Step 1: Generate an API Key and Service Account"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Log in to the ",(0,o.kt)("a",{parentName:"li",href:"https://confluent.cloud/login"},"Confluent Cloud console"),"."),(0,o.kt)("li",{parentName:"ol"},"From the top right of the console, click the hamburger menu."),(0,o.kt)("li",{parentName:"ol"},"Under ",(0,o.kt)("strong",{parentName:"li"},"ADMINISTRATION"),", click ",(0,o.kt)("strong",{parentName:"li"},"API keys"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"+ Add API key"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Adding an API key",width:"100%",src:"/img/confluent-api-key.png"})," "))),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Select an account for API key"),", click ",(0,o.kt)("strong",{parentName:"li"},"Service account"),". "),(0,o.kt)("li",{parentName:"ol"},"Select an existing service account or create a new one, then click ",(0,o.kt)("strong",{parentName:"li"},"Next"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Adding a service account for the key",width:"100%",src:"/img/confluent-add-account.png"})," "))),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Select resource scope for API key"),", select ",(0,o.kt)("strong",{parentName:"li"},"Cloud resource management"),". Click ",(0,o.kt)("strong",{parentName:"li"},"Next"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Adding a service account for the key",width:"100%",src:"/img/confluent-cloud-resource.png"})," "))),(0,o.kt)("li",{parentName:"ol"},"Add a name and description for the key, then click ",(0,o.kt)("strong",{parentName:"li"},"Create API key"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Adding a key name",width:"100%",src:"/img/confluent-create-key.png"})," "))),(0,o.kt)("li",{parentName:"ol"},"Copy the displayed key and the secret to add to Vantage. You can also download a copy of the API key from this screen.",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Copy the newly generated key",width:"100%",src:"/img/confluent-copy-key.png"})," ")))),(0,o.kt)("h4",{id:"step-2-add-the-organizationadmin-role-to-the-service-account"},"Step 2: Add the ",(0,o.kt)("inlineCode",{parentName:"h4"},"OrganizationAdmin")," Role to the Service Account"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From the top hamburger menu of the Confluent Cloud console, select ",(0,o.kt)("strong",{parentName:"li"},"Accounts & access"),". "),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Accounts & access")," page, select the ",(0,o.kt)("strong",{parentName:"li"},"Service Accounts")," tab, then open the service account you associated with the integration API key. ",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Confluent Account & access screen",width:"100%",src:"/img/confluent-account-access.png"})," "))),(0,o.kt)("li",{parentName:"ol"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"Access")," tab, then click ",(0,o.kt)("strong",{parentName:"li"},"+ Add role assignment"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Confluent add role assignment",width:"100%",src:"/img/confluent-add-role-assignment.png"})," "))),(0,o.kt)("li",{parentName:"ol"},"Select the ",(0,o.kt)("strong",{parentName:"li"},"OrganizationAdmin")," role, then click ",(0,o.kt)("strong",{parentName:"li"},"Add"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Expand to view example image"),(0,o.kt)("div",null,(0,o.kt)("img",{alt:"Confluent selecting a role",width:"100%",src:"/img/confluent-new-role-assignment.png"})," ")))),(0,o.kt)("h4",{id:"step-add-the-api-key-to-the-vantage-console"},"Step: Add the API Key to the Vantage Console"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From the top navigation in Vantage, click ",(0,o.kt)("strong",{parentName:"li"},"Settings"),"."),(0,o.kt)("li",{parentName:"ol"},"On the left navigation, select ",(0,o.kt)("strong",{parentName:"li"},"Integrations")," and select ",(0,o.kt)("strong",{parentName:"li"},"Confluent"),"."),(0,o.kt)("li",{parentName:"ol"},"The Confluent integrations page is displayed. Ensure you are on the ",(0,o.kt)("strong",{parentName:"li"},"Connect")," tab."),(0,o.kt)("li",{parentName:"ol"},"At the bottom of the page, click ",(0,o.kt)("strong",{parentName:"li"},"Add API Key")," and paste your newly generated ",(0,o.kt)("strong",{parentName:"li"},"API key")," and ",(0,o.kt)("strong",{parentName:"li"},"API secret"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Connect Account"),".")),(0,o.kt)("p",null,"Costs will be ingested and processed as soon as you add the integration. It usually takes less than 15 minutes to ingest Confluent costs. As soon as the costs are processed, they will be available on your ",(0,o.kt)("strong",{parentName:"p"},"All Resources")," Cost Report. If you decide to remove your Confluent integration from Vantage, all costs associated with your Confluent API key will be removed from the Vantage console."),(0,o.kt)("h3",{id:"next-steps-manage-workspace-access"},"Next Steps: Manage Workspace Access"),(0,o.kt)("p",null,"Once your costs are imported, select which workspaces this integration is associated with. See the ",(0,o.kt)("a",{parentName:"p",href:"/workspaces#integration-workspace"},"Workspaces")," documentation for information."),(0,o.kt)("h2",{id:"data-refresh"},"Data Refresh"),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"/provider_data_refresh"},"provider data refresh documentation")," for information on when data for each provider refreshes in Vantage."),(0,o.kt)("h2",{id:"active-resources"},"Active Resources"),(0,o.kt)("p",null,"Confluent Kafka Clusters are synced as active resources and available in ",(0,o.kt)("a",{parentName:"p",href:"/active_resources"},"resource reports"),"."),(0,o.kt)("h2",{id:"confluent-reporting-dimensions"},"Confluent Reporting Dimensions"),(0,o.kt)("p",null,"On Confluent ",(0,o.kt)("a",{parentName:"p",href:"/cost_reports/"},"Cost Reports"),", you can filter costs across several dimensions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Category (e.g., Kafka Storage)"),(0,o.kt)("li",{parentName:"ul"},"Tag (",(0,o.kt)("a",{parentName:"li",href:"/tagging"},"virtual tags")," created in Vantage for this provider)"),(0,o.kt)("li",{parentName:"ul"},"Resource (resource service ID)"),(0,o.kt)("li",{parentName:"ul"},"Charge Type (e.g., Usage)"),(0,o.kt)("li",{parentName:"ul"},"Organization (organization ID)"),(0,o.kt)("li",{parentName:"ul"},"Service (e.g., Kafka)")),(0,o.kt)("p",null,"You can also view credits or discounts for Confluent costs in Cost Reports."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"At the top of any Confluent Cost Report, click ",(0,o.kt)("strong",{parentName:"li"},"Settings"),". "),(0,o.kt)("li",{parentName:"ol"},"Then, toggle on/off ",(0,o.kt)("strong",{parentName:"li"},"Credits")," and/or ",(0,o.kt)("strong",{parentName:"li"},"Discounts"),".")))}d.isMDXComponent=!0}}]);