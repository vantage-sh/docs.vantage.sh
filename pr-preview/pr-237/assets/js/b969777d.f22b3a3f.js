"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[6200],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(n),u=o,g=d["".concat(p,".").concat(u)]||d[u]||m[u]||r;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3066:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var a=n(7462),o=(n(7294),n(3905));const r={id:"connecting_open_ai",title:"OpenAI",description:"This page walks through how to integrate Vantage with your OpenAI account.",keywords:["OpenAI","Connect OpenAI"]},i="OpenAI",s={unversionedId:"connecting_open_ai",id:"connecting_open_ai",title:"OpenAI",description:"This page walks through how to integrate Vantage with your OpenAI account.",source:"@site/docs/connecting_open_ai.md",sourceDirName:".",slug:"/connecting_open_ai",permalink:"/connecting_open_ai",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/connecting_open_ai.md",tags:[],version:"current",frontMatter:{id:"connecting_open_ai",title:"OpenAI",description:"This page walks through how to integrate Vantage with your OpenAI account.",keywords:["OpenAI","Connect OpenAI"]},sidebar:"someSidebar",previous:{title:"Linode",permalink:"/connecting_linode"},next:{title:"Grafana Cloud",permalink:"/connecting_grafana"}},p={},l=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Create a Connection",id:"create-a-connection",level:2},{value:"Next Steps: Manage Workspace Access",id:"next-steps-manage-workspace-access",level:3},{value:"Data Refresh",id:"data-refresh",level:2},{value:"OpenAI Reporting Dimensions",id:"openai-reporting-dimensions",level:2}],c={toc:l},d="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"openai"},"OpenAI"),(0,o.kt)("p",null,"Vantage integrates with your OpenAI account using the OpenAI ",(0,o.kt)("a",{parentName:"p",href:"https://platform.openai.com/docs/api-reference/usage/costs"},"Costs API endpoint")," and an Admin Key. Vantage supports any services and models that are returned in the Costs endpoint."),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://console.vantage.sh/signup"},"Create a free Vantage account"),", then follow the steps below to generate an OpenAI Admin Key. Note that you must be an ",(0,o.kt)("em",{parentName:"p"},"Organization Owner")," in your OpenAI organization to create an Admin Key."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Note that the Costs endpoint is not available to non-admin API keys. Vantage does not have the ability to perform any actions that incur costs. However, OpenAI requires an Admin Key to access the Usage APIs. This key includes additional permissions beyond what Vantage uses (see the full list of permissions ",(0,o.kt)("a",{parentName:"p",href:"https://help.openai.com/en/articles/9687866-admin-and-audit-logs-api-for-the-api-platform?q=admin+api+key"},"here"),"). Vantage only reads data from the Costs endpoint and will never perform any other actions."),(0,o.kt)("p",{parentName:"admonition"},"All Admin Keys generated through OpenAI have revocable read-write access, and you can also enable ",(0,o.kt)("a",{parentName:"p",href:"https://platform.openai.com/docs/api-reference/audit-logs"},"audit logging")," if needed. Unfortunately, OpenAI does not currently support more fine-grained permissions for Admin Keys. We recommend customers submit a feature request to OpenAI for improved permission scoping, and Vantage will adopt fine-grained permissions if this becomes available.")),(0,o.kt)("h2",{id:"create-a-connection"},"Create a Connection"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to the ",(0,o.kt)("a",{parentName:"li",href:"https://platform.openai.com/settings/organization/admin-keys"},"API Keys")," page of the OpenAI console."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"+ Create new Admin key"),"."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Name"),", add an identifiable name, like ",(0,o.kt)("em",{parentName:"li"},"Vantage Integration"),".",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Click to view example image"),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Create API key modal with a number 1 next to the Create new secret key button and number 2 next to the input field for the key name",width:"100%",src:"/img/openai-admin-key.png"})))),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Create admin key")," and copy the generated API key."),(0,o.kt)("li",{parentName:"ol"},"Navigate to the ",(0,o.kt)("strong",{parentName:"li"},"Connect")," tab of the ",(0,o.kt)("a",{parentName:"li",href:"https://console.vantage.sh/settings/open_ai?connect=true"},"OpenAI Settings")," page in the Vantage console. Then, click ",(0,o.kt)("strong",{parentName:"li"},"Add Admin Key"),"."),(0,o.kt)("li",{parentName:"ol"},"The ",(0,o.kt)("strong",{parentName:"li"},"New OpenAI Account")," modal is displayed. For ",(0,o.kt)("strong",{parentName:"li"},"API key"),", paste your previously generated Admin Key. For ",(0,o.kt)("strong",{parentName:"li"},"Description"),", enter any descriptor to identify that you've added this integration, such as your name.",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Click to view example image"),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"The API key account modal in the Vantage console with sample data added",width:"80%",src:"/img/open-ai-add-key.png"})))),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Connect Account"),".")),(0,o.kt)("p",null,"Costs will be ingested and processed as soon as you add the integration. It usually takes less than 15 minutes to ingest OpenAI costs. As soon as they are processed, they will be available on your All Resources Cost Report. If you decide to remove your OpenAI integration from Vantage, all costs associated with your OpenAI Admin Key will be removed from the Vantage console."),(0,o.kt)("h3",{id:"next-steps-manage-workspace-access"},"Next Steps: Manage Workspace Access"),(0,o.kt)("p",null,"Once your costs are imported, select which workspaces this integration is associated with. See the ",(0,o.kt)("a",{parentName:"p",href:"/workspaces#integration-workspace"},"Workspaces")," documentation for information."),(0,o.kt)("h2",{id:"data-refresh"},"Data Refresh"),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"/provider_data_refresh"},"provider data refresh documentation")," for information on when data for each provider refreshes in Vantage."),(0,o.kt)("h2",{id:"openai-reporting-dimensions"},"OpenAI Reporting Dimensions"),(0,o.kt)("p",null,"On OpenAI ",(0,o.kt)("a",{parentName:"p",href:"/cost_reports"},"Cost Reports"),", you can filter and group across several dimensions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Service (i.e., Operations, such as \u201cChats and Completions\u201d, \u201cImages\u201d, and \u201cEmbeddings\u201d)"),(0,o.kt)("li",{parentName:"ul"},"Category (i.e., Models and operation-specific details, such as \u201cgpt-4o\u201d, \u201ctext-embedding-3-small\u201d, and \u201cassistants api\u201d)"),(0,o.kt)("li",{parentName:"ul"},"Subcategory (i.e., Operation-specific metadata, such as \u201cinput\u201d, output\u201d, \u201ccached input\u201d)"),(0,o.kt)("li",{parentName:"ul"},"Billing Account/Organization"),(0,o.kt)("li",{parentName:"ul"},"Account/Project")))}m.isMDXComponent=!0}}]);