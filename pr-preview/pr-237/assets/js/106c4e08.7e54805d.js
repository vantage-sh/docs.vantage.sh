"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[696],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=a.createContext({}),m=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},g="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,o=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),g=m(n),d=s,h=g["".concat(l,".").concat(d)]||g[d]||p[d]||o;return n?a.createElement(h,r(r({ref:t},c),{},{components:n})):a.createElement(h,r({ref:t},c))}));function h(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=n.length,r=new Array(o);r[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[g]="string"==typeof e?e:s,r[1]=i;for(var m=2;m<o;m++)r[m]=n[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},484:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>m});var a=n(7462),s=(n(7294),n(3905));const o={id:"segments",title:"Segments",description:"Create Segments to perform cost allocation and enforce cost governance for your organization.",keywords:["Segments"]},r="Segments",i={unversionedId:"segments",id:"segments",title:"Segments",description:"Create Segments to perform cost allocation and enforce cost governance for your organization.",source:"@site/docs/segments.md",sourceDirName:".",slug:"/segments",permalink:"/segments",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/segments.md",tags:[],version:"current",frontMatter:{id:"segments",title:"Segments",description:"Create Segments to perform cost allocation and enforce cost governance for your organization.",keywords:["Segments"]},sidebar:"someSidebar",previous:{title:"Network Flow Reports",permalink:"/network_flow_reports"},next:{title:"Anomaly Detection",permalink:"/cost_anomaly_alerts"}},l={},m=[{value:"Segments Use Cases",id:"segments-use-cases",level:2},{value:"Create a Segment",id:"create-a-segment",level:2},{value:"Edit a Segment",id:"edit-a-segment",level:3},{value:"View and Create Child Segments",id:"view-and-create-child-segments",level:3},{value:"View Segment Reports",id:"view-segment-reports",level:2},{value:"Segments in Overview",id:"segments-in-overview",level:2}],c={toc:m},g="wrapper";function p(e){let{components:t,...n}=e;return(0,s.kt)(g,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"segments"},"Segments"),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("p",{parentName:"admonition"},"To enable segments in your account, contact Vantage Support at\xa0",(0,s.kt)("a",{parentName:"p",href:"mailto:support@vantage.sh"},"support@vantage.sh"),".")),(0,s.kt)("p",null,"A segment is a set of filters that represents a portion of costs for your organization (e.g., costs allocated to a business unit or team). With segments, you can perform cost allocation and enforce cost governance for your organization. You can create nested hierarchies of costs that can map to teams, departments, apps, or services within your organization. Segments ensure that costs are allocated only once and not duplicated in cases of showback/chargeback scenarios. "),(0,s.kt)("p",null,"The below diagram shows an example of a segment hierarchy. All child and grandchild segment costs roll up to the top-level organization segment. Any costs not assigned to a segment are considered ",(0,s.kt)("em",{parentName:"p"},"unallocated costs"),". By analyzing your segments, you can identify and burn down these unallocated costs to improve financial accountability and resource management."),(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"Tree diagram of segments with an Organization at the top, three child business unit segments, and two grandchild segments per child segment that represent teams. Each child and grandchild segment has an arrow that points up to the organization segment at the top.",width:"80%",src:"/img/segment-tree.png"})),(0,s.kt)("admonition",{type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"To get started with cost allocation segments, you can also view a video demo on ",(0,s.kt)("a",{parentName:"p",href:"/vantage_university_cost_allocation"},"Vantage University")," \ud83c\udf93.")),(0,s.kt)("h2",{id:"segments-use-cases"},"Segments Use Cases"),(0,s.kt)("p",null,"You can leverage segments for many use cases, including the below examples."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Map costs to business units."),' You can use nested hierarchies for cost allocation. For example, you can see costs grouped by an \u201cInfrastructure Engineering\u201d team, then drill down into all the various sub-teams, like "Infrastructure Engineering Team 1\u201d and \u201cInfrastructure Engineering Team 2." The costs for Team 1 and Team 2 together comprise the total cost allocation line item for Infrastructure Engineering.'),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Maintain tag governance.")," You can create a segment for a particular tag key you want to enforce across your organization. Whenever there are costs in the \u201cUnallocated\u201d portion of the report, you can go and identify resources to assign to the proper team or service. Unallocated costs are costs that are captured by a segment's filters but are not allocated to any child segments. For example, if you have two segments defined for ",(0,s.kt)("strong",{parentName:"li"},"OPEX")," and ",(0,s.kt)("strong",{parentName:"li"},"R&D"),", any costs that do not match the logic associated with either of these filters will fall into the unallocated segment. The unallocated segment report is automatically displayed at the root or parent segment level.")),(0,s.kt)("h2",{id:"create-a-segment"},"Create a Segment"),(0,s.kt)("p",null,"Follow the steps below to create a segment."),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"From the top navigation, click ",(0,s.kt)("strong",{parentName:"li"},"Cost Reporting"),"."),(0,s.kt)("li",{parentName:"ol"},"On the left navigation, select ",(0,s.kt)("strong",{parentName:"li"},"Segments"),". If you have segments present in your account, a full list of top-level segments is displayed in the view on the right, sorted alphabetically."),(0,s.kt)("li",{parentName:"ol"},"To create a new segment, click ",(0,s.kt)("strong",{parentName:"li"},"New Segment"),"."),(0,s.kt)("li",{parentName:"ol"},"Set the following parameters for the new segment:",(0,s.kt)("ul",{parentName:"li"},(0,s.kt)("li",{parentName:"ul"},"For ",(0,s.kt)("strong",{parentName:"li"},"Name"),", enter a unique string (e.g., ",(0,s.kt)("em",{parentName:"li"},"OPEX"),"). This field is required."),(0,s.kt)("li",{parentName:"ul"},"For ",(0,s.kt)("strong",{parentName:"li"},"Description"),", optionally enter a text description for the segment."),(0,s.kt)("li",{parentName:"ul"},"For options, you can select whether you want to include or exclude credits, refunds, discounts, taxes, and amortization. You can also optionally track unallocated costs.",(0,s.kt)("admonition",{parentName:"li",type:"note"},(0,s.kt)("p",{parentName:"admonition"},"These options are displayed only for the root or parent segment, and the selections you make will apply to child segments. Track unallocated applies only to the parent segment."))),(0,s.kt)("li",{parentName:"ul"},"For ",(0,s.kt)("strong",{parentName:"li"},"Priority"),", enter a numeric value (e.g., ",(0,s.kt)("em",{parentName:"li"},"100"),"). Costs are allocated in order of priority, with 0 as the highest priority. This field is required if filters are specified (as described in the next step). If you do not specify filters, this field is optional.",(0,s.kt)("admonition",{parentName:"li",type:"note"},(0,s.kt)("p",{parentName:"admonition"},"Once a cost is allocated to a segment, it will not appear in a segment with a higher priority; however, you likely will not need to worry about priority unless your organization has deep scrutiny on cost allocation collision."))))),(0,s.kt)("li",{parentName:"ol"},"Filters allocate costs to the segment and are optional. To create a filter, click ",(0,s.kt)("strong",{parentName:"li"},"+ Add a Filter")," and configure the following values:",(0,s.kt)("ul",{parentName:"li"},(0,s.kt)("li",{parentName:"ul"},"Select a ",(0,s.kt)("strong",{parentName:"li"},"Provider"),"."),(0,s.kt)("li",{parentName:"ul"},"Click ",(0,s.kt)("strong",{parentName:"li"},"New Rule")," to add additional logic, such as ",(0,s.kt)("strong",{parentName:"li"},"Region")," or ",(0,s.kt)("strong",{parentName:"li"},"Category")," filters. Segment filters are like filters in Cost Reports. See ",(0,s.kt)("a",{parentName:"li",href:"/cost_reports#filtering-cost-reports"},"Filter Cost Reports")," for a more detailed explanation of filters. Note that you cannot use ",(0,s.kt)("em",{parentName:"li"},"saved filters")," from Cost Reports in segments.",(0,s.kt)("details",null,(0,s.kt)("summary",null,"Click to view example image"),(0,s.kt)("p",null,'This example shows a root- or parent-level segment called "Management." Child segment parameters will be the same\u2014except for the ',(0,s.kt)("strong",null,"Track unallocated")," option, which is not displayed for child segments."),(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"The segment creation screen with all cost filters displayed for the segment.",width:"80%",src:"/img/create-segment.png"})))))),(0,s.kt)("li",{parentName:"ol"},"At the bottom, click ",(0,s.kt)("strong",{parentName:"li"},"Save"),". You will see a message indicating ",(0,s.kt)("strong",{parentName:"li"},'"A Segment Report will appear here when the segment is finished refreshing"')," while the report for the segment is generated. Depending on the filter's complexity, it can take some time for the segment report to generate (up to 24 hours).")),(0,s.kt)("h3",{id:"edit-a-segment"},"Edit a Segment"),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("p",{parentName:"admonition"},"If you make additional changes to a filter or segment metadata, like title, it can take up to 24 hours after you regenerate the segment to see those changes reflected in the console. ")),(0,s.kt)("p",null,"You can edit a segment's title, description, priority, and filters within the console. On parent-level segments, you can also edit the settings, such as discounts and taxes. "),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"To edit these criteria, click the pencil icon next to the segment name. ",(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"The Segments screen with a list of segments. A box is displayed around the pencil icon where you can edit the segment's settings.",width:"100%",src:"/img/edit-segment.png"}))),(0,s.kt)("li",{parentName:"ol"},"Update and save the new criteria. "),(0,s.kt)("li",{parentName:"ol"},"On the main ",(0,s.kt)("strong",{parentName:"li"},"Segments")," screen, the segment's ",(0,s.kt)("strong",{parentName:"li"},"Status")," column indicates if a segment needs to be regenerated. Click ",(0,s.kt)("strong",{parentName:"li"},"Refresh Segment"),". ",(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"The Segments screen is displayed with a list of segments. The Status of the first segment is displayed with the Refresh Segment icon.",width:"100%",src:"/img/refresh-segment.png"}))),(0,s.kt)("li",{parentName:"ol"},"The ",(0,s.kt)("strong",{parentName:"li"},"Status")," will be displayed as ",(0,s.kt)("strong",{parentName:"li"},"Refreshing")," while the segment is being updated. This process may take up to 24 hours.",(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"The Segments screen is displayed with a list of segments. The Status of the first segment is displayed with the Refreshing... icon.",width:"100%",src:"/img/refreshing-segment.png"})))),(0,s.kt)("h3",{id:"view-and-create-child-segments"},"View and Create Child Segments"),(0,s.kt)("p",null,"You can create child segments and nest segments within one another. Costs associated with nested segments/filters will be rolled up to any parent segments. To add a child segment to a parent segment, navigate to the parent segment, and click ",(0,s.kt)("strong",{parentName:"p"},"New Segment Dimension"),". The image below shows an example of a group of nested segments."),(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"A list of child segments is displayed. The status indicates they are in sync. It is a list of nested segments called OPEX and R&D. The Unallocated segment is also listed.",width:"100%",src:"/img/view-segments.png"})),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"In the above example, ",(0,s.kt)("strong",{parentName:"li"},"Vantage")," is the top-level segment (as displayed in the breadcrumbs at the top of the screen)."),(0,s.kt)("li",{parentName:"ul"},"The ",(0,s.kt)("strong",{parentName:"li"},"Vantage")," segment report is displayed at the bottom of the list."),(0,s.kt)("li",{parentName:"ul"},"In this example, we selected the option to show ",(0,s.kt)("strong",{parentName:"li"},"Unallocated costs")," when creating this parent segment. The corresponding ",(0,s.kt)("strong",{parentName:"li"},"Unallocated")," segment report is displayed in the list."),(0,s.kt)("li",{parentName:"ul"},"The ",(0,s.kt)("strong",{parentName:"li"},"Vantage")," parent segment has two child segments: ",(0,s.kt)("strong",{parentName:"li"},"OPEX")," and ",(0,s.kt)("strong",{parentName:"li"},"R&D"),".")),(0,s.kt)("p",null,"Select a child segment. You will see additional third-level child segments as well as the associated child segment report. In the below image, the ",(0,s.kt)("strong",{parentName:"p"},"R&D")," child segment report is displayed. R&D contains no additional child segments; however, you can add them if you want. Observe the breadcrumbs at the top, which also indicate ",(0,s.kt)("strong",{parentName:"p"},"R&D")," is a child segment of ",(0,s.kt)("strong",{parentName:"p"},"Vantage"),"."),(0,s.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,s.kt)("img",{alt:"Create Cost Filters for segment",width:"100%",src:"/img/child-segment.png"})),(0,s.kt)("h2",{id:"view-segment-reports"},"View Segment Reports"),(0,s.kt)("p",null,"Select a segment report to view the associated costs. On the report, costs are displayed for all associated child segments."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"The report is filtered to ",(0,s.kt)("strong",{parentName:"li"},"Group By: Segment")," to show costs broken out by the child segments within that segment. In the below example, costs are grouped by ",(0,s.kt)("strong",{parentName:"li"},"OPEX")," and ",(0,s.kt)("strong",{parentName:"li"},"R&D")," within the ",(0,s.kt)("strong",{parentName:"li"},"Vantage")," parent segment. The parent segment is also tracking unallocated costs."),(0,s.kt)("li",{parentName:"ul"},"Change the filter to view the data by another grouping, such as ",(0,s.kt)("strong",{parentName:"li"},"Account"),"."),(0,s.kt)("li",{parentName:"ul"},"From the resource list at the bottom, click the icons next to each resource to isolate costs displayed within the chart."),(0,s.kt)("li",{parentName:"ul"},"From the top right of the chart, you can change the date range and date bin (e.g., daily, weekly, monthly)."),(0,s.kt)("li",{parentName:"ul"},"Click ",(0,s.kt)("strong",{parentName:"li"},"Settings")," to view the currently enabled settings, like discounts and taxes. From the ",(0,s.kt)("strong",{parentName:"li"},"Settings")," menu, click the ",(0,s.kt)("strong",{parentName:"li"},"Manage settings")," link to update the segment's settings. Settings are updated at the parent-level segment. In this example, settings are updated for the ",(0,s.kt)("strong",{parentName:"li"},"Vantage")," segment and also apply to the ",(0,s.kt)("strong",{parentName:"li"},"OPEX")," and ",(0,s.kt)("strong",{parentName:"li"},"R&D")," child segments.")),(0,s.kt)("div",{style:{display:"flex",justifyContent:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",borderRadius:"10px",overflow:"hidden"}},(0,s.kt)("img",{alt:"GIF of viewing and manipulating a segment",width:"100%",src:"/img/segment-cost-report.gif"})),(0,s.kt)("br",null),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("p",{parentName:"admonition"},"If you would like to transition existing Cost Report filters to segments, you must manually re-create them. For assistance, contact Support at ",(0,s.kt)("a",{parentName:"p",href:"mailto:support@vantage.sh"},"support@vantage.sh"),".")),(0,s.kt)("h2",{id:"segments-in-overview"},"Segments in Overview"),(0,s.kt)("p",null,"A segment widget is displayed for each top-level segment on the ",(0,s.kt)("a",{parentName:"p",href:"/overview/"},"Overview")," screen. This segments widget shows a table of second-level segments and a comparison of costs for this month vs. last. You can select any of these segments to view the corresponding Cost Report."))}p.isMDXComponent=!0}}]);