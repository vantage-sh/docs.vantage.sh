<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-virtual_tagging">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Virtual Tagging | Vantage Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.vantage.sh/img/index-cards/docs-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.vantage.sh/img/index-cards/docs-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.vantage.sh/virtual_tagging"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Virtual Tagging | Vantage Documentation"><meta data-rh="true" name="description" content="Create virtual tags within Vantage to provide a consistent tagging schema across cloud providers."><meta data-rh="true" property="og:description" content="Create virtual tags within Vantage to provide a consistent tagging schema across cloud providers."><meta data-rh="true" name="keywords" content="Virtual tagging,Vantage tags"><link data-rh="true" rel="icon" href="https://assets.vantage.sh/www/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://docs.vantage.sh/virtual_tagging"><link data-rh="true" rel="alternate" href="https://docs.vantage.sh/virtual_tagging" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.vantage.sh/virtual_tagging" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FETJSHIQX2-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Vantage Documentation" href="/opensearch.xml">


<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TSMQ34V",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.05900eda.css">
<link rel="preload" href="/assets/js/runtime~main.2b4891c5.js" as="script">
<link rel="preload" href="/assets/js/main.5dc5b0d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TSMQ34V" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://vantage.sh" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/nav-logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/nav-logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/changelog">Changelog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/vantage_university">Vantage University</a><a href="https://vantage.readme.io/reference/general" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a></div><div class="navbar__items navbar__items--right"><a href="https://vantage.sh/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://console.vantage.sh/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sign Up</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Get Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting_started">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/vantage_university">Vantage University</a><button aria-label="Toggle the collapsible sidebar category &#x27;Vantage University&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Account and Security</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vantage_account">Account Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sso">Single Sign-On (SSO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rbac">Role-Based Access Control (RBAC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workspaces">Workspaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/virtual_tagging">Virtual Tagging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">API and Terraform</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terraform">Terraform Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vql">VQL (Vantage Query Language)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/data_dictionary">Data Dictionary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Integrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_aws">AWS</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_azure">Azure</a><button aria-label="Toggle the collapsible sidebar category &#x27;Azure&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_gcp">Google Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Google Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_kubernetes">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_datadog">Datadog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_new_relic">New Relic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_mongodb-atlas">MongoDB Atlas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_snowflake">Snowflake</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowflake&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_databricks">Databricks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_fastly">Fastly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_oracle">Oracle Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_confluent">Confluent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_planetscale">PlanetScale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_coralogix">Coralogix</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Cost Reporting Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cost_reports">Cost Reports</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cost Reports&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/annotations">Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/forecasting">Forecasting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/active_resources">Resource Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/network_flow_reports">Network Flow Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/segments">Segments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_anomaly_alerts">Anomaly Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/report_notifications">Cost Report Notifications</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Financial Planning Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autopilot">Autopilot for AWS Savings Plans</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/budgets">Budgets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/per_unit_costs">Unit Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/issues">Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/financial_commitment_reports">Financial Commitment Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/savings_planner">Savings Planner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_recommendations">Cost Recommendations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Product Changelog</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelog">Changelog</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Account and Security</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Virtual Tagging</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Virtual Tagging</h1><p>You can create virtual tags to consistently tag costs across providers in Vantage. This feature can help to increase tagging coverage across your cloud infrastructure. Create cost allocation tag keys with a set of corresponding values and filters directly in the Vantage without needing to involve your engineering team in making infrastructure changes. All provider integrations in Vantage are supported, including providers that don&#x27;t natively support tags.</p><p>Virtual tags are available for filtering and aggregating on all <a href="/cost_reports">Cost Reports</a> and <a href="/segments">cost allocation segments</a>. They can also be used in filter criteria on <a href="/saved_filters">saved filters</a>. There is no limit to the number of tag keys or values you define.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>To get started with virtual tagging, you can also view a video demo on <a href="/vantage_university_cost_allocation">Vantage University</a> ðŸŽ“.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-tags-vs-saved-filters-vs-cost-allocation-segments">Virtual Tags vs. Saved Filters vs. Cost Allocation Segments<a href="#virtual-tags-vs-saved-filters-vs-cost-allocation-segments" class="hash-link" aria-label="Direct link to Virtual Tags vs. Saved Filters vs. Cost Allocation Segments" title="Direct link to Virtual Tags vs. Saved Filters vs. Cost Allocation Segments">â€‹</a></h2><p>Virtual tags can be considered foundational to the rest of the data within Vantage. They should remain fairly static, and changes should be considered delicate. These changes will flow across all data and apply to all workspaces. The most common tag keys will be items like team, cost center, and environment.</p><p>Segments can then be used to create different hierarchical views for tagged data. This feature is useful for breaking down the data by different perspectives, such as by cost center or by OPEX/CapEX.</p><p>Saved filters can then be used in a more ad-hoc fashion to add lenses on top of base data. For instance, you could create a saved filter just for <em>North America</em> that standardizes a set of regions across providers and can be used by teams on their reports or dashboards without having to know the set of filters needed to create the list of regions. When new regions come online, itâ€™s easy to modify the saved filter to include this region.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you want to transition any of your cost allocation segments to virtual tags, contact <a href="mailto:support@vantage.sh" target="_blank" rel="noopener noreferrer">support@vantage.sh</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-value-tags">Custom Value Tags<a href="#custom-value-tags" class="hash-link" aria-label="Direct link to Custom Value Tags" title="Direct link to Custom Value Tags">â€‹</a></h2><p>With custom value tags, you can create new cross-provider cost allocation tags to help better your tagging strategy. For example, you may have a series of resource tags, by product, across each of your providers. You can create custom tags in Vantage to combine those costs into one unique product tag for all resources in that product group.</p><p>See the <a href="/virtual_tagging#custom-values-example">example section</a> below for details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cost-based-and-business-metrics-based-allocation-tags">Cost-Based and Business Metrics-Based Allocation Tags<a href="#cost-based-and-business-metrics-based-allocation-tags" class="hash-link" aria-label="Direct link to Cost-Based and Business Metrics-Based Allocation Tags" title="Direct link to Cost-Based and Business Metrics-Based Allocation Tags">â€‹</a></h2><p>The cost-based and business metrics-based allocation tag types allow for <em>dynamic cost allocation</em>, which is the process of allocating costs based on another existing cost or metric. See the below video for an introduction to dynamic cost allocation.</p><div style="position:relative;width:100%;padding-bottom:56.25%;height:0;overflow:hidden"><iframe src="https://www.youtube.com/embed/67RbHPtfgEE?si=3J14Pjwos6ubUdSd?rel=0&amp;color=white&amp;modestbranding=1&amp;wmode=transparent&amp;autoplay=1" allowfullscreen="" style="position:absolute;top:0;left:0;width:100%;height:100%;border-radius:10px"></iframe></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cost-based-allocation-tags">Cost-Based Allocation Tags<a href="#cost-based-allocation-tags" class="hash-link" aria-label="Direct link to Cost-Based Allocation Tags" title="Direct link to Cost-Based Allocation Tags">â€‹</a></h3><p>With cost-based allocation tags, you can create a dynamically allocated cost structure. Select a set of input costs (e.g., all AWS costs), an existing cost tag to use for allocation (e.g., a teams cost tag), and an output cost (e.g, a static cost, like AWS Support) that you want to be allocated the same way as your input cost.</p><p>See the <a href="/virtual_tagging#cost-based-allocation-example">example section</a> below for details.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="business-metrics-based-allocation-tags">Business Metrics-Based Allocation Tags<a href="#business-metrics-based-allocation-tags" class="hash-link" aria-label="Direct link to Business Metrics-Based Allocation Tags" title="Direct link to Business Metrics-Based Allocation Tags">â€‹</a></h3><p>With business metrics-based allocation tags, you select an existing <a href="/per_unit_costs">business metric</a> (e.g., CPU use per product) and indicate your output cost (e.g., all GCP Compute costs) so that the allocation of the output cost mimics the percentage allocation of the existing business metric.</p><p>See the <a href="/virtual_tagging#metric-based-allocation-example">example section</a> below for details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-virtual-tags">Create Virtual Tags<a href="#create-virtual-tags" class="hash-link" aria-label="Direct link to Create Virtual Tags" title="Direct link to Create Virtual Tags">â€‹</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This feature requires <em>Owner</em> permissions in Vantage. See the <a href="/rbac">Role-Based Access Control</a> documentation for details. Virtual tags apply to all <a href="/workspaces">workspaces</a>.</p></div></div><ol><li><p>From the top navigation, click <strong>Settings</strong>.</p></li><li><p>From the side navigation, under <strong>General Settings</strong>, click <strong>Virtual Tags</strong>.</p></li><li><p>All existing virtual tags are displayed alphabetically. You can edit and delete any existing tags from this screen. To add a new virtual tag, click <strong>Create a Virtual Tag</strong>.</p></li><li><p>Enter a title for the <strong>Tag Key</strong>.</p></li><li><p>For <strong>Billing Period Backfill</strong>, select a billing period (e.g., <strong>Apr 2024</strong>) for which the tag should be backfilled.</p></li><li><p>Enable the <strong>Can Override</strong> toggle if you want the virtual tag to override an existing service cost value. For example, if you create a virtual tag that conflicts with an existing provider tag, this option will override the existing provider tag key in Vantage reports.</p></li><li><p>In the <strong>Values</strong> section, click <strong>+Add</strong>. Select whether you want to create a <strong>Custom Value</strong>, <strong>Business Metric</strong>, or <strong>Cost Based</strong> value. Click through the tabs below for instructions on each value type.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Add Custom Value</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Add Business Metric Value</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Add Cost Based Value</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol><li>Click <strong>Assign Custom Value</strong>.</li><li>Enter a <strong>Tag Value</strong> title. Titles can contain only letters, numbers, and the following characters: <code>\_ - &amp; + , . : / \</code>. You cannot use saved filters to define a virtual tag value&#x27;s filters.</li><li>Specify the tag value&#x27;s filter criteria. These filters function just like filters on Cost Reports and cost allocation segments. For information on how to create detailed filters, see theÂ <a href="/cost_reports">Cost Reports</a>Â documentation.</li></ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol><li>Click <strong>Connect a Business Metric</strong>.</li><li>Select an existing <a href="/per_unit_costs">business metric</a>.</li><li>Select the <strong>Output Costs Filter</strong> that will be split among your tag values based on your business metric. These filters function just like filters on Cost Reports and cost allocation segments. For information on how to create detailed filters, see theÂ <a href="/cost_reports">Cost Reports</a>Â documentation.</li></ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol><li>Select <strong>Cost Based</strong>.</li><li>Select an <strong>Input Costs Filter</strong> to specify which category of input costs to include in the allocation. These filters function just like filters on Cost Reports and cost allocation segments. For information on how to create detailed filters, see theÂ <a href="/cost_reports">Cost Reports</a>Â documentation. <br><blockquote><i><b>Tip:</b> For most use cases, you should set a filter for <b>Charge Type = Usage</b> on the input filter to ensure you are matching on only usage-related costs and ignoring costs related to items like credits, taxes, fees, etc.</i></blockquote></li><li>Select an existing cost <strong>Tag Key</strong>. This value can be an existing tag you have in one of your cost providers, like AWS.</li><li>Select the <strong>Output Costs Filter</strong> to indicate the costs that will be split among your tag values based on your input cost filter.</li></ol></div></div></div><hr></li><li><p>At the top, click <strong>Save</strong>.</p></li></ol><p>Processing tag changes usually takes under an hour. At the top of the <strong>Virtual Tags</strong> screen, the processing status is displayed. Processing times vary based on the number of tags and volume of data you have imported into Vantage.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="The Virtual Tag screen with a processing status displayed for Fastly and New Relic" width="80%" src="/img/virtual-tag-status.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-tag-order">Virtual Tag Order<a href="#virtual-tag-order" class="hash-link" aria-label="Direct link to Virtual Tag Order" title="Direct link to Virtual Tag Order">â€‹</a></h3><p>Tag values are arranged in priority order on the <strong>Virtual Tags</strong> screen. You can move tag values up and down in the UI to reorder them, as demonstrated in the visual example below.</p><div style="display:flex;justify-content:center;box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;overflow:hidden"><img loading="lazy" alt="GIF of two tag values, staging and production, being reordered in the Tags UI" width="80%" src="/img/reorder-tags.gif" class="img_ev3q"></div><br><p>When cost data is ingested into Vantage, the first value that matches the corresponding filters will be applied to that line item. In cases where filters overlap, the order of tag values within each key determines the value that is applied.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filter-and-group-by-virtual-tags">Filter and Group by Virtual Tags<a href="#filter-and-group-by-virtual-tags" class="hash-link" aria-label="Direct link to Filter and Group by Virtual Tags" title="Direct link to Filter and Group by Virtual Tags">â€‹</a></h2><p>You can filter by virtual tags in Cost Reports, cost allocation segments, and when creating saved filters. Virtual tags are visible along with your existing provider tags. Use the <strong>Tag</strong> (<strong>Label</strong> in GCP) filter and grouping option.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A Cost Report filter with two filters applied: one for AWS costs for the team/data tag and one for GCP costs with the same tag" width="80%" src="/img/virtual-tag-consolidate-report.png" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delete-a-virtual-tag">Delete a Virtual Tag<a href="#delete-a-virtual-tag" class="hash-link" aria-label="Direct link to Delete a Virtual Tag" title="Direct link to Delete a Virtual Tag">â€‹</a></h2><p>To delete a virtual tag, navigate to the <a href="https://console.vantage.sh/settings/virtual_tags" target="_blank" rel="noopener noreferrer">Virtual Tags</a> page. All existing tag keys are displayed. Click the trashcan icon next to a tag key. Your data will be re-tagged, excluding the deleted virtual tag, going back to the deleted tagâ€™s backfill bill period. Newly ingested data will no longer be tagged with the deleted tag.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Virtual Tagging Examples<a href="#examples" class="hash-link" aria-label="Direct link to Virtual Tagging Examples" title="Direct link to Virtual Tagging Examples">â€‹</a></h2><p>The following examples demonstrate how to use virtual tagging in a multi-provider organization.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-values-example">Custom Value Examples<a href="#custom-values-example" class="hash-link" aria-label="Direct link to Custom Value Examples" title="Direct link to Custom Value Examples">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1-cross-provider-tagging">Example 1: Cross-Provider Tagging<a href="#example-1-cross-provider-tagging" class="hash-link" aria-label="Direct link to Example 1: Cross-Provider Tagging" title="Direct link to Example 1: Cross-Provider Tagging">â€‹</a></h4><p>You want to create a tag mapping for each of your teams that maps corresponding teams with certain services and provider accounts.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-a-new-tag">Step 1: Create a New Tag<a href="#step-1-create-a-new-tag" class="hash-link" aria-label="Direct link to Step 1: Create a New Tag" title="Direct link to Step 1: Create a New Tag">â€‹</a></h5><p>You create a tag key called <code>Teams</code>.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="The Tag Key field displayed in the Virtual Tags UI; the name Teams is entered" width="80%" src="/img/virtual-provider-tag-key.png" class="img_ev3q"></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-add-tag-values-and-filters">Step 2: Add Tag Values and Filters<a href="#step-2-add-tag-values-and-filters" class="hash-link" aria-label="Direct link to Step 2: Add Tag Values and Filters" title="Direct link to Step 2: Add Tag Values and Filters">â€‹</a></h5><p>You add the corresponding set of virtual tag values and filters:</p><ul><li>The <code>data</code> team tag value corresponds with a filter for all costs for GCP BigQuery and Amazon Redshift.</li><li>The <code>mobile</code> team tag value corresponds with a filter for its related GCP projects and AWS accounts.</li><li>You continue this pattern and create similar values with corresponding filters for your other teams.</li></ul><div style="display:flex;overflow:scroll"><img loading="lazy" alt="A sample Tag Value field for a value of data with filter for Service of BigQuery and Amazon Redshift" width="60%" src="/img/virtual-tag-provider-value-1.png" class="img_ev3q"><img loading="lazy" alt="A sample Tag Value field for a value of data with a filter for GCP Project of mobile and AWS account of mobile" width="60%" src="/img/virtual-tag-provider-value-2.png" class="img_ev3q"></div><p>Within Cost Reports, you can easily filter and group by these tag options to easily see costs for an individual team. In the below visual example, the Cost Report is grouped by the <strong>team</strong> tag, and the <strong>mobile</strong> and <strong>data</strong> values are displayed along with the other team tag values you created.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A sample Cost Report grouped by Tag showing a mobile and data tag" width="100%" src="/img/virtual-tag-provider-report.png" class="img_ev3q"></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-2-consolidate-existing-tags">Example 2: Consolidate Existing Tags<a href="#example-2-consolidate-existing-tags" class="hash-link" aria-label="Direct link to Example 2: Consolidate Existing Tags" title="Direct link to Example 2: Consolidate Existing Tags">â€‹</a></h4><p>You have a tagging practice established at your organization, but teams often create tags with spelling variations, tags with typos, or they create duplicate tags. For example, the <code>data</code> team has resources tagged with <code>data</code>, <code>Data</code>, and <code>data-prod</code>. This is an issue across many of your teams. You want to consolidate all these tags, across providers, into one <code>data</code> tag.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-a-new-tag-1">Step 1: Create a New Tag<a href="#step-1-create-a-new-tag-1" class="hash-link" aria-label="Direct link to Step 1: Create a New Tag" title="Direct link to Step 1: Create a New Tag">â€‹</a></h5><p>You create a tag key called <code>Teams</code> to override existing tags.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="The Tag Key field displayed in the Virtual Tags UI; the name Teams is entered" width="80%" src="/img/virtual-provider-tag-key.png" class="img_ev3q"></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-add-tag-values-and-filters-1">Step 2: Add Tag Values and Filters<a href="#step-2-add-tag-values-and-filters-1" class="hash-link" aria-label="Direct link to Step 2: Add Tag Values and Filters" title="Direct link to Step 2: Add Tag Values and Filters">â€‹</a></h5><p>You add the corresponding set of virtual tag values and filters. In this example, all permutations of the <code>data</code> team tag are combined into one virtual tag.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A sample Tag Value field for a value of AWS team tags equaling data, data-prod, and Data. Another value for a GCP team Label equaling data" width="80%" src="/img/virtual-tag-consolidate-value.png" class="img_ev3q"></div><p>Within Cost Reports, you can easily filter by this tag to see all costs related to the <code>data</code> team. This saves you the work of needing to always filter for all permutations of this tag. Now, you need to filter by only one tag.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A Cost Report with a filter for AWS and GCP team tag of data" width="80%" src="/img/virtual-tag-consolidate-report.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cost-based-allocation-example">Cost-Based Allocation Example<a href="#cost-based-allocation-example" class="hash-link" aria-label="Direct link to Cost-Based Allocation Example" title="Direct link to Cost-Based Allocation Example">â€‹</a></h3><p>In your organization, teams share resources, such as RDS databases or EC2 instances, and each team consumes different percentages of these resources each month. Your organization is also charged a static support fee each month for AWS. As shown in the diagram below, you want to allocate a portion of the support fee to each team based on their proportional use of AWS resources. So in the below example, since the Infra team is responsible for 50% of all AWS costs, they should also be responsible for 50% of the support fee. You can create a cost-based allocation virtual tag for allocating portions of the support fee to each respective team.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A flowchart that has the AWS logo in a block at the top. AWS has three arrows pointing to tag icons that say Infra 50%, Mobile 20%, and Data 30%. These tags point to a box that says Dynamic Cost Allocation with the icon for AWS Support. This box has three arrows that point to three boxes. The boxes say Infra Team AWS Support Costs 50%, Mobile Team AWS Support Costs 20%, and Data Team AWS Support Costs 30%." width="60%" src="/img/cost-based-example.png" class="img_ev3q"></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â€‹</a></h4><p>You have an existing provider tag in AWS that identifies resources for your teams. This tag will be used in step 2.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-a-new-cost-based-allocation-tag">Step 1: Create a New Cost-Based Allocation Tag<a href="#step-1-create-a-new-cost-based-allocation-tag" class="hash-link" aria-label="Direct link to Step 1: Create a New Cost-Based Allocation Tag" title="Direct link to Step 1: Create a New Cost-Based Allocation Tag">â€‹</a></h4><ul><li>Navigate to <strong>Settings &gt; Virtual Tags</strong>.</li><li>Create a new virtual tag.</li><li>Select the <strong>Cost-Based</strong> option for the tag value.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-select-an-input-cost-filter">Step 2: Select an Input Cost Filter<a href="#step-2-select-an-input-cost-filter" class="hash-link" aria-label="Direct link to Step 2: Select an Input Cost Filter" title="Direct link to Step 2: Select an Input Cost Filter">â€‹</a></h4><p>For your input cost, select <strong>All AWS Costs</strong>. Set an additional filter for the <strong>Usage</strong> charge type to filter on only usage-related costs. This filter will ignore costs related to items like credits, taxes, fees, etc.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-select-a-tag-key">Step 3: Select a Tag Key<a href="#step-3-select-a-tag-key" class="hash-link" aria-label="Direct link to Step 3: Select a Tag Key" title="Direct link to Step 3: Select a Tag Key">â€‹</a></h4><p>You select your existing <strong>teams</strong> tag key you have in AWS that will be used for allocating costs.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-select-an-output-cost-filter">Step 4: Select an Output Cost Filter<a href="#step-4-select-an-output-cost-filter" class="hash-link" aria-label="Direct link to Step 4: Select an Output Cost Filter" title="Direct link to Step 4: Select an Output Cost Filter">â€‹</a></h4><p>In this example, since your infrastructure team is responsible for 50% of all AWS costs, the mobile team for 20%, and the data team for 30%, you can mimic this allocation across another static cost, or your output cost. Select the filters for the AWS support fee.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A sample Tag Value field for AWS Support Fee costs" width="70%" src="/img/virtual-tag-support-fee.png" class="img_ev3q"></div><p>Once the tag is created, create a new Cost Report and add the following criteria:</p><ul><li>Create a filter for AWS Support costs.</li><li>Add grouping criteria to group by your new cost-based dynamic allocation tag.</li></ul><p>The resulting report shows how much of the support fee each team is allocated.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A sample Tag Value field for AWS Support Fee costs" width="100%" src="/img/virtual-tag-support-fee-report.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metric-based-allocation-example">Business Metrics-Based Allocation Example<a href="#metric-based-allocation-example" class="hash-link" aria-label="Direct link to Business Metrics-Based Allocation Example" title="Direct link to Business Metrics-Based Allocation Example">â€‹</a></h3><p>You are working with your infrastructure team and want to ensure that the proportional cost of CPU time on a shared resource is allocated to the distinct cost centers that are consuming the CPU. In the below example, you want each teamâ€™s portion of CPU usage billed as a corresponding percentage of the overall Namespace CPU cost. So, if Team A uses 30% of the resourceâ€™s CPU, then they should be billed a proportional percentage of the total Namespaceâ€™s costs.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A flowchart that has a CPU icon in a block at the top and says Shared Resource CPU. CPU has two arrows pointing to two boxes with people icons that say Team A CPU Usage and Team B CPU Usage. These boxes point to a box that says Total Namespace Costs with the Kubernetes icon. This box has two arrows that point to two boxes that say Portion of Namespace Costs Allocated to Team Based on Portion of CPU Usage." width="60%" src="/img/metric-based-example.png" class="img_ev3q"></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite">Prerequisite<a href="#prerequisite" class="hash-link" aria-label="Direct link to Prerequisite" title="Direct link to Prerequisite">â€‹</a></h4><p>To determine the cost of CPU time to allocate to each respective team, you first create a <a href="/per_unit_costs/#labels">labeled business metric</a> that includes the CPU time labeled by team. Vantage then calculates the respective percentage of CPU time for each team. The labeled business metric has the following format.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">date,amount,label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-09,825,teama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-09,600,teamb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-10,500,teama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-10,200,teamb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-11,723,teama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-11,456,teamb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-a-new-business-metrics-based-allocation-tag">Step 1: Create a New Business Metrics-Based Allocation Tag<a href="#step-1-create-a-new-business-metrics-based-allocation-tag" class="hash-link" aria-label="Direct link to Step 1: Create a New Business Metrics-Based Allocation Tag" title="Direct link to Step 1: Create a New Business Metrics-Based Allocation Tag">â€‹</a></h4><p>You create a new business metrics-based tag:</p><ul><li>Navigate to <strong>Settings &gt; Virtual Tags</strong>.</li><li>Create a new virtual tag.</li><li>Select the <strong>Business Metric</strong> option for the tag value.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-select-the-labeled-business-metric">Step 2: Select the Labeled Business Metric<a href="#step-2-select-the-labeled-business-metric" class="hash-link" aria-label="Direct link to Step 2: Select the Labeled Business Metric" title="Direct link to Step 2: Select the Labeled Business Metric">â€‹</a></h4><p>Search for and select the labeled business metric you just created to use for allocation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-select-an-output-cost-filter">Step 3: Select an Output Cost Filter<a href="#step-3-select-an-output-cost-filter" class="hash-link" aria-label="Direct link to Step 3: Select an Output Cost Filter" title="Direct link to Step 3: Select an Output Cost Filter">â€‹</a></h4><p>Select the Vantage costs that will be split based on the percentages calculated in your business metric. In this case, you select a filter to show costs for the specific Namespace you want to be allocated.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A sample Tag Value field for specific Kubernetes namespace costs" width="90%" src="/img/virtual-tag-metric.png" class="img_ev3q"></div><p>Once the tag is created, create a new Cost Report and add the following criteria:</p><ul><li>Create a filter for the specific Namespace.</li><li>Add grouping criteria to group by your new business metrics-based dynamic allocation tag.</li></ul><p>The resulting report shows how much of the Namespace costs each team is allocated.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="A sample Tag Value field for AWS Support Fee costs" width="100%" src="/img/virtual-tag-metric-report.png" class="img_ev3q"></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/virtual_tagging.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/workspaces"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Workspaces</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#virtual-tags-vs-saved-filters-vs-cost-allocation-segments" class="table-of-contents__link toc-highlight">Virtual Tags vs. Saved Filters vs. Cost Allocation Segments</a></li><li><a href="#custom-value-tags" class="table-of-contents__link toc-highlight">Custom Value Tags</a></li><li><a href="#cost-based-and-business-metrics-based-allocation-tags" class="table-of-contents__link toc-highlight">Cost-Based and Business Metrics-Based Allocation Tags</a><ul><li><a href="#cost-based-allocation-tags" class="table-of-contents__link toc-highlight">Cost-Based Allocation Tags</a></li><li><a href="#business-metrics-based-allocation-tags" class="table-of-contents__link toc-highlight">Business Metrics-Based Allocation Tags</a></li></ul></li><li><a href="#create-virtual-tags" class="table-of-contents__link toc-highlight">Create Virtual Tags</a><ul><li><a href="#virtual-tag-order" class="table-of-contents__link toc-highlight">Virtual Tag Order</a></li></ul></li><li><a href="#filter-and-group-by-virtual-tags" class="table-of-contents__link toc-highlight">Filter and Group by Virtual Tags</a></li><li><a href="#delete-a-virtual-tag" class="table-of-contents__link toc-highlight">Delete a Virtual Tag</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Virtual Tagging Examples</a><ul><li><a href="#custom-values-example" class="table-of-contents__link toc-highlight">Custom Value Examples</a></li><li><a href="#cost-based-allocation-example" class="table-of-contents__link toc-highlight">Cost-Based Allocation Example</a></li><li><a href="#metric-based-allocation-example" class="table-of-contents__link toc-highlight">Business Metrics-Based Allocation Example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/getting_started">Integrations Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/cost_reports">Cost Reports</a></li><li class="footer__item"><a class="footer__link-item" href="/autopilot">Autopilot</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Product Changelog</a></li><li class="footer__item"><a class="footer__link-item" href="/vantage_university">Vantage University</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vantage.sh/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handbook.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Costs Handbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://instances.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS Instances Pricing<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://instances.vantage.sh/azure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Azure VM Pricing Comparison<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vantage.readme.io/reference/general" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://vantage.sh/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vantage Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/vantage-sh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://status.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vantage Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.vantage.sh/about/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/website-terms-of-use" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/service-agreement" target="_blank" rel="noopener noreferrer" class="footer__link-item">VNTG Service Agreement<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/subprocessors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Authorized Sub-Processors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/vantage-footer-logo.svg" alt="Vantage" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/vantage-footer-logo.svg" alt="Vantage" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright Â© 2024 VNTG, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2b4891c5.js"></script>
<script src="/assets/js/main.5dc5b0d5.js"></script>
</body>
</html>