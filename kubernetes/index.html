<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-kubernetes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Kubernetes Costs | Vantage Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://assets.vantage.sh/blog/vntg-social-preview.png"><meta data-rh="true" name="twitter:image" content="https://assets.vantage.sh/blog/vntg-social-preview.png"><meta data-rh="true" property="og:url" content="https://docs.vantage.sh/kubernetes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kubernetes Costs | Vantage Documentation"><meta data-rh="true" name="description" content="Kubernetes cost reporting and efficiency metrics documentation for Vantage including costs by cluster, namespace, and label as well as idle costs and pod efficiency metrics."><meta data-rh="true" property="og:description" content="Kubernetes cost reporting and efficiency metrics documentation for Vantage including costs by cluster, namespace, and label as well as idle costs and pod efficiency metrics."><meta data-rh="true" name="keywords" content="Kubernetes,Kubernetes costs,Kubernetes efficiency metrics"><link data-rh="true" rel="icon" href="https://assets.vantage.sh/www/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://docs.vantage.sh/kubernetes"><link data-rh="true" rel="alternate" href="https://docs.vantage.sh/kubernetes" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.vantage.sh/kubernetes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FETJSHIQX2-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Vantage Documentation" href="/opensearch.xml">


<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TSMQ34V",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.b1ee8182.css">
<link rel="preload" href="/assets/js/runtime~main.66ad5a7a.js" as="script">
<link rel="preload" href="/assets/js/main.2c54259f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TSMQ34V" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://vantage.sh" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/nav-logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/nav-logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a href="https://vantage.readme.io/reference/general" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a href="https://vantage.sh/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a></div><div class="navbar__items navbar__items--right"><a href="https://console.vantage.sh/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sign Up</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Get Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting_started">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/team_accountability">User Workflow Guides</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Security and Access</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vantage_account">Account Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sso">Single Sign-On (SSO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rbac">Role-Based Access Control (RBAC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workspaces">Workspaces</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">API and Terraform</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terraform">Terraform Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vql">VQL (Vantage Query Language)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/data_dictionary">Data Dictionary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Integrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/connecting_aws">AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/connecting_azure">Azure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/connecting_gcp">Google Cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/connecting_kubernetes">Kubernetes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_kubernetes">Set Up Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes_agent">Vantage Kubernetes Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/opencost">Kubernetes (OpenCost)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes_container_insights">Kubernetes (Container Insights)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kubernetes">Kubernetes Costs</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_datadog">Datadog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_new_relic">New Relic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_mongodb-atlas">MongoDB Atlas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/connecting_snowflake">Snowflake</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_databricks">Databricks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_fastly">Fastly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_oracle">Oracle Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_confluent">Confluent</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Cost Reporting Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_reports">Cost Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/annotations">Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/forecasting">Forecasting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/active_resources">Resource Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/segments">Segments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_anomaly_alerts">Anomaly Detection</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/reports">Notifications</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Financial Planning Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autopilot">Autopilot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/budgets">Budgets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/per_unit_costs">Per Unit Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/savings_planner">Savings Planner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_recommendations">Cost Recommendations</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Integrations</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Kubernetes</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Kubernetes Costs</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Kubernetes Costs and Efficiency Metrics</h1><p>Vantage has two sets of tools for viewing and optimizing Kubernetes costs: viewing Kubernetes costs in <a href="/cost_reports">Cost Reports</a> and viewing Kubernetes efficiency metrics in the devoted <a href="https://console.vantage.sh/kubernetes" target="_blank" rel="noopener noreferrer">Kubernetes page</a> in the console.</p><ul><li><strong>Kubernetes Cost Reports.</strong> Use Cost Reports to drill into costs by Cluster, Namespace, Service, and Label, as well as combine Kubernetes costs with other providers, such as a database or cache layer.</li><li><strong>Kubernetes Efficiency Metrics and Reports.</strong> Display the cost efficiency down to the pod level of a cluster. These metrics are useful for rightsizing and cost optimization. You can also create efficiency reports based on these metrics.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-cost-reports">Kubernetes Cost Reports<a href="#kubernetes-cost-reports" class="hash-link" aria-label="Direct link to Kubernetes Cost Reports" title="Direct link to Kubernetes Cost Reports">​</a></h2><p>Kubernetes Cost Reports provide cost visibility by Cluster, Label, Namespace, and Service. They include Kubernetes-specific filters and filter logic. You can combine specific Kubernetes costs with other services. In the below example, the filter includes the costs of a specific service with corresponding RDS database costs.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Kubernetes and AWS Cost Report filters" width="60%" src="/img/vantage-kubernetes-reporting.png" class="img_ev3q"></div><p>Cost Reports also provide <a href="/forecasting">forecasts</a>. These forecasts are updated daily and provide confidence intervals for what your costs are likely to be for the month.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cost-data-source">Cost Data Source<a href="#cost-data-source" class="hash-link" aria-label="Direct link to Cost Data Source" title="Direct link to Cost Data Source">​</a></h3><p>The costs displayed on these reports come from your integration with the <a href="/kubernetes_agent">Vantage Kubernetes agent</a>. The agent calculates the cost of a running pod by analyzing the CPU, RAM, GPU, as well as storage usage and calculates the cost of each input based on the cost of the underlying infrastructure.</p><p><a href="/kubernetes#efficiency-calculations">Vantage uses a formula</a> to divide the cost of a compute instance into CPU, RAM, and GPU and then computes the cost per hour for each type of resource. All the cost allocation calculations are done locally in your cluster and makes this data available for querying.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Kubernetes costs are not included in monthly tracked infrastructure costs as they’re already captured from underlying EKS, GKE, or AKS costs.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-efficiency-metrics-and-reports">Kubernetes Efficiency Metrics and Reports<a href="#kubernetes-efficiency-metrics-and-reports" class="hash-link" aria-label="Direct link to Kubernetes Efficiency Metrics and Reports" title="Direct link to Kubernetes Efficiency Metrics and Reports">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-kubernetes-efficiency-metrics">View Kubernetes Efficiency Metrics<a href="#view-kubernetes-efficiency-metrics" class="hash-link" aria-label="Direct link to View Kubernetes Efficiency Metrics" title="Direct link to View Kubernetes Efficiency Metrics">​</a></h3><ol><li>Navigate to the <a href="https://console.vantage.sh/kubernetes" target="_blank" rel="noopener noreferrer">Kubernetes page</a> in the Vantage console.</li><li>On the left navigation menu, select an option to view connected <strong>Clusters</strong>, <strong>Namespaces</strong>, or <strong>Labels</strong>. Each view contains a graph as well as a table with the following headings:<ul><li><strong>Name.</strong> The name of the Cluster, Namespace, or Label you’re viewing.</li><li><strong>Idle Costs.</strong> A dollar value representation of the number of resources requested that are idle.</li><li><strong>Total Costs.</strong> A dollar value representation of the total cost of the resources.</li><li><strong>Cost Efficiency.</strong> The ratio of idle costs and total costs.</li></ul></li><li>Filter a cluster&#x27;s efficiency metrics by date or resource:<ul><li>From the top right of the graph, change the date range to see how costs have changed over time.</li><li>From the resource list below each chart, click the icons next to each resource to view different aggregations. Click the <strong>View on chart</strong> button to isolate that specific resource on the chart.</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="efficiency-reports">Create Efficiency Reports<a href="#efficiency-reports" class="hash-link" aria-label="Direct link to Create Efficiency Reports" title="Direct link to Create Efficiency Reports">​</a></h3><p>With Kubernetes efficiency reports, you can filter your Kubernetes cost data and create reports based on these filters. You have the option to filter for costs by Cluster, Namespace, or Label.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Labels will include namespace labels and annotations, if enabled in your <a href="/kubernetes_agent#enable-annotations-namespace-labels">Vantage Kubernetes agent integration</a>.</p></div></div><ol><li>Navigate to the <a href="https://console.vantage.sh/kubernetes" target="_blank" rel="noopener noreferrer">Kubernetes page</a> in the Vantage console.</li><li>On the left navigation menu, select <strong>Efficiency Reports</strong>. All existing Kubernetes efficiency reports will be listed, along with who created the report as well as the date when the report was created.</li><li>From the top right of the screen, click <strong>New Report</strong>. Like the efficiency metrics view, a chart/graph with idle costs is displayed. Below the chart, a table is displayed with the following columns: the resource&#x27;s name, <strong>Idle Costs</strong>, <strong>Total Costs</strong>, and <strong>Cost Efficiency</strong>.</li><li>To filter costs, click the <strong>Filters</strong> button on the top left of the chart.<ul><li>The <strong>Kubernetes costs where...</strong> tile is displayed. Click <strong>+ New Rule</strong>.</li><li>For <strong>Category</strong>, select either <strong>Cluster</strong>, <strong>Namespace</strong>, or <strong>Label</strong>.</li><li>Two additional dropdown menus are displayed. Select <strong>is</strong> or <strong>is not</strong> based on your desired filter criteria, then select one or more Clusters, Namespaces, or Labels from the second dropdown menu.</li><li>Click <strong>Save</strong>.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view visual example</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center;box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;overflow:hidden"><img loading="lazy" alt="Create Kubernetes Efficiency filters" width="100%" src="/img/create-filter.gif" class="img_ev3q"></div></div></div></details></li></ul></li><li>You can optionally edit your existing rule or add additional filter criteria.<ul><li>To edit the rule you just created, select the rule, make your changes, then click <strong>Save</strong>.</li><li>If you want to add a rule to filter multiple criteria, such as filter by certain Clusters and another rule to filter by certain Namespaces, click <strong>+ New Rule</strong>. Add the additional criteria and save.</li><li>To add a separate rule set, click <strong>+ New Filter</strong>. This rule set will be displayed as <strong>Or Kubernetes costs where...</strong> on the new tile.</li><li>To delete a rule set, click the trashcan icon on the top right of the rule set.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view visual example</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center;position:relative"><div style="position:relative;z-index:1"><img loading="lazy" alt="Add OR clause to Kubernetes Efficiency Report" style="width:100%;clip-path:inset(0 0 0 5px);border-radius:10px" src="/img/add-or-clause.gif" class="img_ev3q"></div><div style="position:absolute;top:0;bottom:0;left:0;right:0;border-radius:10px;box-shadow:0 0 10px rgba(0, 0, 0, 0.2);z-index:0"></div></div></div></div></details></li></ul></li><li>Above the rule set(s), click <strong>Apply</strong>. The graph will update with your existing filter criteria.</li><li>You have the option to further drill down into your costs.<ul><li>Above the graph, click the <strong>Aggregate By</strong> dropdown menu. Select either <strong>Idle Costs</strong> or <strong>Total Costs</strong>.<div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Selecting one of these options will also make those costs the default sort for the table.</p></div></div></li><li>To adjust aggregation dimensions, above the graph, click the <strong>Group By</strong> dropdown menu. Select one or more of the following options: <strong>Cluster</strong>, <strong>Namespace</strong>, and specific <strong>Label Key</strong>/<strong>Label Value</strong>.</li><li>To adjust date binning, select the menu on the top right of the graph. Select either <strong>Daily</strong>, <strong>Weekly</strong>, or <strong>Monthly</strong>.</li><li>To change the date range, click the date picker menu on the top right of the graph and adjust the date range.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view visual example</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center;position:relative"><div style="position:relative;z-index:1"><img loading="lazy" alt="Add additional filters to Kubernetes efficiency report" style="width:100%;clip-path:inset(0 0 0 5px);border-radius:10px" src="/img/additional-filters.gif" class="img_ev3q"></div><div style="position:absolute;top:0;bottom:0;left:0;right:0;border-radius:10px;box-shadow:0 0 10px rgba(0, 0, 0, 0.2);z-index:0"></div></div></div></div></details></li></ul></li><li>To save the report, click <strong>Save as New</strong> and enter a report name. Then, click <strong>Save</strong>. (To edit this name, click the pencil icon in the breadcrumbs above the chart, next to the report&#x27;s name.)</li></ol><p>You can edit the filter criteria on a report at any time. Remember to click <strong>Save</strong> once you are done making changes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-an-efficiency-report-to-a-dashboard">Add an Efficiency Report to a Dashboard<a href="#add-an-efficiency-report-to-a-dashboard" class="hash-link" aria-label="Direct link to Add an Efficiency Report to a Dashboard" title="Direct link to Add an Efficiency Report to a Dashboard">​</a></h3><p>You can add your efficiency reports to <a href="/cost_reports#dashboards">dashboards</a>. These reports will be displayed on the dashboard, along with other cost and segment reports.</p><ol><li>From the top navigation, click <strong>Cost Reporting</strong>.</li><li>From the side navigation, click <strong>Dashboards</strong>.</li><li>Select an existing dashboard, or click <strong>+ New</strong> to create a new dashboard.<ul><li>If you are creating a new dashboard:<ul><li>Enter a <strong>Name</strong>.</li><li>Under <strong>Add Reports</strong>, find and select your Kubernetes efficiency report.</li><li>Click <strong>Save</strong>.</li></ul></li><li>If you want to add the report to an existing dashboard:<ul><li>From the top right of the existing dashboard, click <strong>Edit</strong>.</li><li>Under <strong>Add Reports</strong>, find your efficiency report.</li><li>Click <strong>Save</strong>.</li></ul></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="efficiency-calculations">Efficiency Calculations<a href="#efficiency-calculations" class="hash-link" aria-label="Direct link to Efficiency Calculations" title="Direct link to Efficiency Calculations">​</a></h3><p>Pod resource efficiency is defined as the resource utilization versus the resource request over a given time window. These resource utilization metrics include CPU and RAM. When viewing efficiency, it will be shown as a percentage. 100% means the resource allocation is fully efficient.</p><p>Idle costs are defined as the difference between the cost of requested resources (CPU and Memory) and the associated usage of those costs:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">idle_cost </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cpu_request_cost - cpu_usage_cost</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memory_request_cost - memory_usage_cost</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-integration-methods">Kubernetes Integration Methods<a href="#kubernetes-integration-methods" class="hash-link" aria-label="Direct link to Kubernetes Integration Methods" title="Direct link to Kubernetes Integration Methods">​</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Vantage recommends integrating with the <a href="/kubernetes_agent">Vantage Kubernetes agent</a> to leverage the most granular reporting features and the cost-efficiency metrics.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vantage-kubernetes-agent">Vantage Kubernetes Agent<a href="#vantage-kubernetes-agent" class="hash-link" aria-label="Direct link to Vantage Kubernetes Agent" title="Direct link to Vantage Kubernetes Agent">​</a></h3><p>Costs are exported from the cluster hourly and then made available nightly. Costs are calculated once the costs from the cluster’s corresponding infrastructure are available, which often takes 48 hours. These costs might encounter delays based on their associated cloud integration&#x27;s cost data. For instance, if there is a one-day delay in an AWS Cost and Usage Report, the clusters dependent on that data will experience a similar delay.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opencost-integrations">OpenCost Integrations<a href="#opencost-integrations" class="hash-link" aria-label="Direct link to OpenCost Integrations" title="Direct link to OpenCost Integrations">​</a></h3><p>While Vantage works to upstream the efficiency metrics into the main OpenCost project, you can also deploy the Vantage-maintained OpenCost branch via <a href="https://quay.io/repository/vantage-sh/opencost?tab=tags&amp;tag=latest" target="_blank" rel="noopener noreferrer">the OpenCost repository</a>.</p><p>Efficiency metrics will be available up to 24 hours after updating your clusters. You can query the Amazon Managed Prometheus associated with your integration for <code>count(container_cpu_idle) by (cluster_id)</code> to verify the metrics are making it from your Kubernetes cluster to the Prometheus that Vantage will use to periodically gather the metrics.</p><p>In most cases, Prometheus running on a Kubernetes cluster will not be exposed with a public endpoint. As a workaround, a second centralized Prometheus instance is deployed into your account. This instance is used as an aggregation point that Vantage has both network and IAM access to query. Vantage can integrate with any publicly accessible Prometheus endpoint, including Grafana Cloud.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/kubernetes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/kubernetes_container_insights"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Kubernetes (Container Insights)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/connecting_datadog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Datadog</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kubernetes-cost-reports" class="table-of-contents__link toc-highlight">Kubernetes Cost Reports</a><ul><li><a href="#cost-data-source" class="table-of-contents__link toc-highlight">Cost Data Source</a></li></ul></li><li><a href="#kubernetes-efficiency-metrics-and-reports" class="table-of-contents__link toc-highlight">Kubernetes Efficiency Metrics and Reports</a><ul><li><a href="#view-kubernetes-efficiency-metrics" class="table-of-contents__link toc-highlight">View Kubernetes Efficiency Metrics</a></li><li><a href="#efficiency-reports" class="table-of-contents__link toc-highlight">Create Efficiency Reports</a></li><li><a href="#add-an-efficiency-report-to-a-dashboard" class="table-of-contents__link toc-highlight">Add an Efficiency Report to a Dashboard</a></li><li><a href="#efficiency-calculations" class="table-of-contents__link toc-highlight">Efficiency Calculations</a></li></ul></li><li><a href="#kubernetes-integration-methods" class="table-of-contents__link toc-highlight">Kubernetes Integration Methods</a><ul><li><a href="#vantage-kubernetes-agent" class="table-of-contents__link toc-highlight">Vantage Kubernetes Agent</a></li><li><a href="#opencost-integrations" class="table-of-contents__link toc-highlight">OpenCost Integrations</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/getting_started">Integrations Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/cost_reports">Cost Reports</a></li><li class="footer__item"><a class="footer__link-item" href="/autopilot">Autopilot</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vantage.sh/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://handbook.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Costs Handbook</a></li><li class="footer__item"><a href="https://instances.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS Instances Pricing</a></li><li class="footer__item"><a href="https://instances.vantage.sh/azure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Azure VM Pricing Comparison</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vantage.readme.io/reference/general" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Documentation</a></li><li class="footer__item"><a href="https://vantage.sh/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vantage Blog</a></li><li class="footer__item"><a href="https://github.com/vantage-sh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://status.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vantage Status</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.vantage.sh/about/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://www.vantage.sh/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://www.vantage.sh/terms-of-service" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service</a></li><li class="footer__item"><a href="https://www.vantage.sh/subprocessors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Authorized Sub-Processors</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 VNTG, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.66ad5a7a.js"></script>
<script src="/assets/js/main.2c54259f.js"></script>
</body>
</html>