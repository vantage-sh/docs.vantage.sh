<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-network_flow_reports">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Network Flow Reports | Vantage Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.vantage.sh/img/index-cards/docs-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.vantage.sh/img/index-cards/docs-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.vantage.sh/network_flow_reports"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Network Flow Reports | Vantage Documentation"><meta data-rh="true" name="description" content="Network Flow Reports provide visibility by source and destination to the flows within your network that are driving costs."><meta data-rh="true" property="og:description" content="Network Flow Reports provide visibility by source and destination to the flows within your network that are driving costs."><meta data-rh="true" name="keywords" content="Network Flow Reports,VPC Flow Logs"><link data-rh="true" rel="icon" href="https://assets.vantage.sh/www/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://docs.vantage.sh/network_flow_reports"><link data-rh="true" rel="alternate" href="https://docs.vantage.sh/network_flow_reports" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.vantage.sh/network_flow_reports" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FETJSHIQX2-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Vantage Documentation" href="/opensearch.xml">


<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TSMQ34V",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.05900eda.css">
<link rel="preload" href="/assets/js/runtime~main.15fd85bc.js" as="script">
<link rel="preload" href="/assets/js/main.7a8cb1d2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TSMQ34V" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://vantage.sh" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/nav-logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/nav-logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/changelog">Changelog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/vantage_university">Vantage University</a><a href="https://vantage.readme.io/reference/general" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a></div><div class="navbar__items navbar__items--right"><a href="https://vantage.sh/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://console.vantage.sh/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sign Up</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Get Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting_started">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/vantage_university">Vantage University</a><button aria-label="Toggle the collapsible sidebar category &#x27;Vantage University&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Account and Security</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vantage_account">Account Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sso">Single Sign-On (SSO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rbac">Role-Based Access Control (RBAC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workspaces">Workspaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/virtual_tagging">Virtual Tagging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">API and Terraform</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terraform">Terraform Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vql">VQL (Vantage Query Language)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/data_dictionary">Data Dictionary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Integrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_aws">AWS</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_azure">Azure</a><button aria-label="Toggle the collapsible sidebar category &#x27;Azure&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_gcp">Google Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Google Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_kubernetes">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_datadog">Datadog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_new_relic">New Relic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_mongodb-atlas">MongoDB Atlas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connecting_snowflake">Snowflake</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowflake&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_databricks">Databricks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_fastly">Fastly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_oracle">Oracle Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_confluent">Confluent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_planetscale">PlanetScale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connecting_coralogix">Coralogix</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Cost Reporting Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cost_reports">Cost Reports</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cost Reports&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/annotations">Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/forecasting">Forecasting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/active_resources">Resource Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/network_flow_reports">Network Flow Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/segments">Segments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_anomaly_alerts">Anomaly Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/report_notifications">Cost Report Notifications</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Financial Planning Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autopilot">Autopilot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/budgets">Budgets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/per_unit_costs">Unit Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/issues">Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/financial_commitment_reports">Financial Commitment Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/savings_planner">Savings Planner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cost_recommendations">Cost Recommendations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Product Changelog</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelog">Changelog</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cost Reporting Features</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Network Flow Reports</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Network Flow Reports</h1><p>For any network-enabled resource, Network Flow Reports provide visibility by source and destination to the flows within your network that are driving costs. You can filter these reports to identify resources that are accruing network costs, generate detailed views of the sources and destinations of the network traffic, and investigate metadata on specific resources in the flow. This feature makes it possible to correlate data transfer charges with both external services, such as Datadog, and internal applications.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>At this time, only AWS is supported. Additional support for providers with flow log functionality, such as Azure and Google Cloud, is planned for the future.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Set Up VPC Flow Log Integration<a href="#setup" class="hash-link" aria-label="Direct link to Set Up VPC Flow Log Integration" title="Direct link to Set Up VPC Flow Log Integration">​</a></h2><p>Network Flow Reports require an existing <a href="/connecting_aws">AWS provider integration</a>. The Vantage AWS account-specific IAM role needs to be granted access to the S3 buckets where you publish your VPC Flow Logs. Vantage can automatically detect any existing S3 buckets that contain VPC Flow Logs. You need to configure this integration for each AWS account that has an S3 bucket with VPC Flow Logs.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The Vantage configuration does not work with Amazon CloudWatch because of the high cost of querying CloudWatch. Logs need to be published to S3 for the Vantage integration to work.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><p>Ensure you have at least the following fields in your VPC Flow Log format to increase the discoverability of network-related costs. If you do not have these fields enabled, Vantage may be unable to properly correlate your network flows to estimated costs.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">${action} ${bytes} ${dstaddr} ${start} ${end} ${flow-direction} ${log-status} ${region} ${srcaddr} ${account-id} ${instance-id} ${interface-id} ${subnet-id} ${vpc-id} ${az-id}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the <a href="https://docs.aws.amazon.com/vpc/latest/userguide/flow-logs-s3.html#flow-logs-s3-create-flow-log" target="_blank" rel="noopener noreferrer">AWS documentation</a> for information on how to set up VPC Flow Logs that publish to S3. Vantage can ingest both Text and Parquet log file formats.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cost-to-enable-vpc-flow-logs-in-aws">Cost to Enable VPC Flow Logs in AWS<a href="#cost-to-enable-vpc-flow-logs-in-aws" class="hash-link" aria-label="Direct link to Cost to Enable VPC Flow Logs in AWS" title="Direct link to Cost to Enable VPC Flow Logs in AWS">​</a></h4><p>When you enable VPC Flow Logs, you incur both S3 storage costs and CloudWatch data ingestion costs on your AWS bill. These charges are represented in the costs for the S3 bucket where your flow logs are written to as well as an <code>S3-Egress</code> fee from CloudWatch. Unfortunately, there is no way around these costs being incurred. Vantage has contacted various AWS platform teams to attempt to remove this cost, but this is likely a limitation that AWS is unwilling to change or remove.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>For more information about VPC Flow Logs pricing, see this <a href="https://handbook.vantage.sh/aws/services/vpc-flow-logs-pricing/" target="_blank" rel="noopener noreferrer">Cloud Cost Handbook article</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-the-integration">Enable the Integration<a href="#enable-the-integration" class="hash-link" aria-label="Direct link to Enable the Integration" title="Direct link to Enable the Integration">​</a></h3><ol><li>From the top navigation bar, click <strong>Active Resources.</strong></li><li>From the side navigation bar, select <strong>Network Flow Reports</strong>.</li><li>Click <strong>Configure VPC Flow Logs</strong>.</li><li>All existing S3 buckets that contain flow logs are displayed in the left panel of the onboarding workflow. Click the checkbox next to any listed S3 bucket to select all log files within that bucket.<div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You can also click the down arrow to the right of any bucket name and select or deselect specific log files within that bucket.</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><img loading="lazy" alt="Network Flow Reports onboarding page for getting started" width="100%" src="/img/nfr-onboarding.png" class="img_ev3q"></div></div></div></details></li><li>When you select the checkbox for a bucket, the <strong>Sync All</strong> toggle is automatically enabled. After the initial onboarding process, any new VPC Flow Logs added to that bucket will also be automatically synced each night. You can disable this option if you do not want the files to automatically sync.</li><li>The right panel contains instructions on how to get set up using the AWS CLI, AWS Management Console, or the <a href="/terraform">Vantage Terraform provider</a>. Select the tab for your preferred option. If you have multiple connected accounts with VPC Flow Logs, instructions or code samples are provided for each account.</li><li>After you run the code in the AWS CLI, deploy your Terraform configuration, or complete the steps in the AWS Management Console, click <strong>Check Permissions</strong>. A message is displayed that indicates whether the bucket permissions were successfully set up or if they are missing. A red <strong>X</strong> is displayed next to any buckets in the left panel that do not have sufficient permissions. Some log files may also be unsupported. See the <a href="/network_flow_reports#unsupported-logs">section below</a> for details.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><img loading="lazy" alt="Network Flow Report onboarding page with a bucket selected and showing a message that says Permissions are good" width="100%" src="/img/nfr-permissions.png" class="img_ev3q"></div></div></div></details></li><li>Once permissions are successfully set up, click <strong>Connect</strong>. A message is displayed that indicates your flow logs are being imported. Click <strong>Check Import Status</strong> to review the status of your integration. A <strong>Processing…</strong> status is displayed until the import is complete.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><img loading="lazy" alt="Network Flow Report processing page for imports" width="100%" src="/img/nfr-processing.png" class="img_ev3q"></div></div></div></details></li></ol><p>Data is usually available within 24 hours of initially enabling the integration. You will receive an email once the data import is complete. Vantage ingests your logs nightly.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unsupported-logs">Unsupported Logs<a href="#unsupported-logs" class="hash-link" aria-label="Direct link to Unsupported Logs" title="Direct link to Unsupported Logs">​</a></h3><p>When a particular log cannot be imported, Vantage displays either an <code>UNSUPPORTED TRAFFIC</code>, <code>UNSUPPORTED DESTINATION</code>, or <code>UNSUPPORTED LOG FORMAT</code> label next to the log name in the <strong>Manage VPC Flow Logs</strong> window. Hover your mouse over this label to see additional information about the issue.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Mouse hovers over an unsupported log format option" width="60%" src="/img/nfr-unsupported.png" class="img_ev3q"></div><table><tr><th>Issue</th><th>Description</th></tr><tr><td><code>UNSUPPORTED TRAFFIC</code></td><td>Vantage does not import any <code>REJECT</code> flows, nor any flows that do not generate corresponding costs.</td></tr><tr><td><code>UNSUPPORTED DESTINATION</code></td><td>This message is displayed if a log is going to any destination other than S3. Logs need to be published to S3 to be imported by Vantage.</td></tr><tr><td><code>UNSUPPORTED LOG FORMAT</code></td><td>Unsupported log format means that your log may be missing some required columns. Hover over the <code>UNSUPPORTED LOG FORMAT</code> label to see a list of missing columns. Ensure your logs contain the columns noted in the <a href="/network_flow_reports#prerequisites">Prerequisites</a> section.</td></tr></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="manage-existing-integrations">Manage Existing Integrations<a href="#manage-existing-integrations" class="hash-link" aria-label="Direct link to Manage Existing Integrations" title="Direct link to Manage Existing Integrations">​</a></h3><p>You can view your integration status and add additional flow logs from the <a href="https://console.vantage.sh/settings/aws?vpc_flow_logs=true" target="_blank" rel="noopener noreferrer">VPC Flow Logs integration</a> page. At the top of the <strong>Manage Connected VPC Flow Logs</strong> panel, click <strong>Manage</strong>. The <strong>Manage Flow Logs</strong> pop-up window is displayed. After the initial import, you can perform the following actions from this window:</p><ul><li>Select additional S3 buckets and logs to sync</li><li>Deselect an S3 bucket or log files to remove the bucket from syncing</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you add additional fields to your VPC Flow Log format in AWS, and you already sync these logs to Vantage, this new data will be imported to Vantage on the next nightly import.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-new-network-flow-report">Create a New Network Flow Report<a href="#create-a-new-network-flow-report" class="hash-link" aria-label="Direct link to Create a New Network Flow Report" title="Direct link to Create a New Network Flow Report">​</a></h2><p>Follow the steps below to create a new Network Flow Report:</p><ol><li><p>From the top navigation, click <strong>Active Resources</strong>.</p></li><li><p>From the side navigation, click <strong>Network Flow Reports</strong>. All your existing Network Flow Reports are displayed, along with who created the report and the date it was created.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Three reports are provided, by default, on this page: <em>All Network Flow Logs</em>, <em>Cross-AZ Traffic</em>, and <em>Public Traffic Destinations</em>. See the <a href="/network_flow_reports#nfr-examples">Network Flow Report Examples section</a> below for tips on how to get started with these reports.</p></div></div></li><li><p>To create a new report, click <strong>New Network Flow Report</strong>.</p></li><li><p>A new Network Flow Report is displayed.</p><ul><li>At the top of the report, a <a href="https://en.wikipedia.org/wiki/Sankey_diagram" target="_blank" rel="noopener noreferrer">Sankey diagram</a> is provided. This diagram shows different network flows, based on your selected filters and grouping criteria. For example, in the image below, the nodes on the left side of the diagram show the sources of network traffic. Links, or network flows, flow from the nodes to their traffic destination (in this example, cross-AZ or public). The width of each flow corresponds with the volume of traffic or estimated cost, based on your settings, and the color corresponds with the source of the node (e.g., yellow for <em>public</em> in the example below).<div style="display:flex;justify-content:center"><img loading="lazy" alt="Sample Network Flow Report with cross-AZ and public traffic" width="100%" src="/img/nfr-start.png" class="img_ev3q"></div></li><li>In the table below the diagram, the network flow information is displayed along with the volume of traffic (in bytes). The table is sorted in descending order by the <strong>Estimated Cost</strong> column. Click any column header to change the sort order. Each flow shows the estimated cost associated with that specific traffic route, helping you identify the most expensive data transfers. (See the <a href="/network_flow_reports#estimated-cost">section below</a> for details on how the Estimated Cost column is calculated.)</li><li>For each listed resource, a link to the <a href="/active_resources"><strong>Active Resources</strong> screen</a> is provided. Click this link to view additional metadata about the resource. From the <strong>Active Resources</strong> screen, click the <strong>Relationships</strong> tab to view any associated resources, such as a corresponding IGW for a VPC resource.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="A resource is selected in the table, the active resource view is opened, and the relationships tab is displayed."></div></div></div></div></div></details></li></ul></li><li><p>You can update the criteria displayed in the Sankey diagram with the following options:</p><ul><li>By default, both egress and ingress traffic are displayed. Expand the <strong>Flow Direction</strong> menu above the diagram to change the flow to only <strong>Egress</strong> or <strong>Ingress</strong>.</li><li>From the top right of the diagram, update the date range that’s displayed. Click the calendar icon and select an option, such as <strong>Last 7 Days</strong>, <strong>This Month</strong>, etc.<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>By default, Vantage ingests 7 days of network flows into your account and keeps the data available for 31 days. For Enterprise customers, this retention period can be adjusted. Contact <a href="mailto:support@vantage.sh" target="_blank" rel="noopener noreferrer">support@vantage.sh</a> if you need a longer retention period.</p></div></div></li><li>You can move the columns in the table at the bottom to visualize different flows. The diagram is also updated to depict the new order in the table.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="A column in the table is clicked and dragged to a new location"></div></div></div></div></div></details></li><li>You can also filter and group/add more columns to the report. See the next section for details.</li></ul></li><li><p>To save the report, from the top right of the screen, click <strong>Save as New</strong>. Enter a report name, then click <strong>Save</strong>. (To edit this name, click the pencil icon in the breadcrumbs above the chart, next to the report&#x27;s name.)</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filter-and-group-a-network-flow-report">Filter and Group a Network Flow Report<a href="#filter-and-group-a-network-flow-report" class="hash-link" aria-label="Direct link to Filter and Group a Network Flow Report" title="Direct link to Filter and Group a Network Flow Report">​</a></h2><p>By default, a Network Flow Report is grouped by the following fields:</p><ul><li>Source Resource UUID</li><li>Peer Resource UUID</li><li>Traffic Category</li></ul><p>You can filter and group by multiple criteria in Network Flow Reports. Expand the box below to see all available filter and grouping criteria with a description of each option.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view all fields</summary><div><div class="collapsibleContent_i85q"><table><tr><th>Vantage Field</th><th>Description</th><th>Example</th></tr><tr><td>Account ID</td><td>AWS account ID of the source network</td><td>production, 123456789012</td></tr><tr><td>Availability Zone ID</td><td>ID of the source Availability Zone</td><td>us-east-1a</td></tr><tr><td>Destination Address</td><td>Specific IP address that identifies the location of where the traffic is being sent</td><td>An IP, like 1.23.456.90</td></tr><tr><td>Destination Hostname</td><td>Domain name that corresponds with the IP address of the destination <i>(see note below table)</i></td><td>01234.broadband.com<br><br>OR<br><br>Datadog<br><br>A <code>dsthostname:null</code> value means Vantage is unable to reverse DNS the <code>dst_address</code> IP address.</td></tr><tr><td>Flow Direction</td><td>Movement of network traffic relative to a specific network interface</td><td>Ingress or egress</td></tr><tr><td>Interface ID</td><td>Source ENI ID</td><td>eni-001d78b2agh4caa05</td></tr><tr><td>Instance ID</td><td>Source instance ID</td><td>i-0b22a22eec53b9321</td></tr><tr><td>Peer Resource UUID</td><td>Destination resource ARN or tag (if available)</td><td>eni-c123ab7f9c55af9a6d<br><br>OR<br><br>example-tag</td></tr><tr><td>Peer Account ID</td><td>Destination account ID</td><td>production, 123456789012</td></tr><tr><td>Peer VPC ID</td><td>Destination VPC ID</td><td>vpc-12a34567b8g8a03ef</td></tr><tr><td>Peer Region ID</td><td>AWS Region of destination</td><td>us-west-2</td></tr><tr><td>Peer Availability Zone ID</td><td>ID of the Availability Zone for the destination</td><td>us-east-1b</td></tr><tr><td>Peer Subnet ID</td><td>Destination subnet ID</td><td>subnet-123ab7f9c55af9a6d</td></tr><tr><td>Peer Interface ID</td><td>Destination ENI ID</td><td>eni-001d78b2agh4caa12</td></tr><tr><td>Peer Instance ID</td><td>Destination instance ID</td><td>i-0b22a22eec53b9321</td></tr><tr><td>Region</td><td>AWS Region of the source</td><td>us-east-1</td></tr><tr><td>Resource UUID</td><td>Source resource ARN or tag (if available)</td><td>eni-c123ab7f9c55af9a6d<br><br>OR<br><br>example-tag</td></tr><tr><td>Source Address</td><td>Specific IP address from which the network traffic originates</td><td>An IP, like 1.23.456.90</td></tr><tr><td>Source Hostname</td><td>Domain name that corresponds with the IP address of the source <i>(see note below table)</i></td><td>100.123.456.789.bc.googleusercontent.com<br><br>OR<br><br>Datadog</td></tr><tr><td>Subnet ID</td><td>ID of the source subnet</td><td>subnet-123ab7f9c55af9a6d</td></tr><tr><td>Traffic Category</td><td>The type of traffic</td><td>public, cross-AZ, cross-region, unknown<br><br>An <code>Unknown</code> value means Vantage is unable to categorize the type of traffic based on the available metadata.</td></tr><tr><td>Traffic Path</td><td>Path traffic takes to reach the destination, such as through a virtual private gateway</td><td><ul><li>In VPC</li><li>Internet Gateway or Gateway VPC Endpoint</li><li>Virtual Private Gateway</li><li>Intra-Region VPC Peering</li><li>Inter-Region VPC Peering</li><li>Local Gateway</li><li>Gateway VPC Endpoint (Nitro-based instances)</li><li>Internet Gateway (Nitro-based instances)</li></ul></td></tr><tr><td>VPC ID</td><td>ID of the source VPC</td><td>vpc-12a34567b8g8a03ef</td></tr></table><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>To derive the hostname, Vantage checks against some hardcoded IP ranges, and then falls back to reverse DNS lookup for the IPs. If you have services with known IP ranges you want added, contact <a href="mailto:support@vantage.sh" target="_blank" rel="noopener noreferrer">support@vantage.sh</a>.</p></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apply-filter-criteria">Apply Filter Criteria<a href="#apply-filter-criteria" class="hash-link" aria-label="Direct link to Apply Filter Criteria" title="Direct link to Apply Filter Criteria">​</a></h3><p>You can add additional fields via grouping and filtering criteria. To add a new filter:</p><ol><li>Click the <strong>Filters</strong> button on the top left of the diagram.<ul><li>The <strong>AWS costs where...</strong> tile is displayed. Click <strong>+ New Rule</strong>.</li><li>From the filter dropdown menu, select an option, like <strong>Account ID</strong>, <strong>Instance ID</strong>, etc.</li><li>Two additional dropdown menus are displayed. Select <strong>is</strong>, <strong>is not</strong>, <strong>contains</strong>, or <strong>does not contain</strong> based on your desired filter criteria, then select one or more values from the second dropdown menu. For <strong>contains</strong> or <strong>does not contain,</strong> enter any text criteria to filter by.<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you are unable to see any values for a filter, this means that you are not capturing this information in your VPC Flow Logs format, and therefore, Vantage is unable to import this data.</p></div></div></li><li>Click <strong>Add</strong>.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="A report is filtered to public traffic"></div></div></div></div></div></details></li></ul></li><li>You can optionally edit your existing rule or add additional filter criteria.<ul><li>To edit the rule you just created, select the rule, make your changes, and click <strong>Add</strong>.</li><li>If you want to add a rule to filter multiple criteria, such as filter by certain Regions and another rule to filter by certain Destination Hostnames, click <strong>+ New Rule</strong>. Add the additional criteria and click <strong>Add</strong>.</li><li>To add a separate rule set, above the filter set, click <strong>+ New Filter</strong>. This rule set will be displayed as <strong>Or AWS costs where...</strong> on the new tile.</li><li>To delete a rule set, click the trashcan icon on the top right of the rule set.<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to view example image</summary><div><div class="collapsibleContent_i85q"><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="Additional filter options and filter sets are added to the report"></div></div></div></div></div></details></li></ul></li><li>Above the rule set(s), click <strong>Apply</strong>. The diagram will update with your existing filter criteria.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apply-grouping-criteria">Apply Grouping Criteria<a href="#apply-grouping-criteria" class="hash-link" aria-label="Direct link to Apply Grouping Criteria" title="Direct link to Apply Grouping Criteria">​</a></h3><p>To add additional columns to the table and diagram, expand the <strong>Group By</strong> menu. Select or deselect grouping criteria. As you add grouping criteria, additional nodes and flows are displayed on the diagram. Additional columns are also added to the table for any new grouping criteria.</p><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="A report is grouped for traffic type"></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-weight">Adjust Flow Weight<a href="#flow-weight" class="hash-link" aria-label="Direct link to Adjust Flow Weight" title="Direct link to Adjust Flow Weight">​</a></h3><p>By default, the Sankey diagram is weighted by estimated cost. You can change this view to be weighted by bytes, or volume. Above the chart, click the <strong>Flow Weight</strong> menu and select <strong>Costs</strong> or <strong>Bytes</strong>. The Sankey diagram is updated accordingly. When you hover over a flow, the corresponding cost or volume in bytes is displayed in the tooltip.</p><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="The Flow Direction menu is toggled to show options for Costs and Bytes."></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-flow-log-metadata">View Flow Log Metadata<a href="#view-flow-log-metadata" class="hash-link" aria-label="Direct link to View Flow Log Metadata" title="Direct link to View Flow Log Metadata">​</a></h2><p>For certain grouping criteria, you can view additional details about specific resources. Vantage provides this information when it can fetch provider resource metadata. If Vantage can resolve the IP address for the Source Address and Destination Address grouping criteria, it will also provide metadata for these groupings.</p><ol><li>Expand the <strong>Group By</strong> menu and add one or more of the following options to your grouping criteria:<ul><li>Interface ID/Peer Interface ID</li><li>Subnet ID/Peer Subnet ID</li><li>VPC ID/Peer VPC ID</li><li>UUID/Peer UUID</li></ul></li><li>In the table, select the row for any resource. The <strong>Flow Log Metadata</strong> panel is displayed on the right side of the screen. Data is provided for the <strong>Peer</strong> and <strong>Peer Resource</strong>. In this panel, click the link for any listed resource to see a provider resource report displayed.</li></ol><div style="display:flex;justify-content:center"><div style="box-shadow:0 0 10px rgba(0, 0, 0, 0.2);border-radius:10px;width:100%;overflow:hidden"><div style="width:100%;height:100%" alt="A report is grouped by VPC ID. Then, a resource is selected and the metadata panel is displayed."></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="estimated-cost">Estimated Cost Calculation for Network Flows<a href="#estimated-cost" class="hash-link" aria-label="Direct link to Estimated Cost Calculation for Network Flows" title="Direct link to Estimated Cost Calculation for Network Flows">​</a></h2><p>The estimated cost for each flow is calculated by applying your blended data transfer rates to the flow of traffic. For example, if a flow is moving between one subnet to another and those subnets are in different Availability Zones, Vantage applies your cross-AZ data transfer rate to those bytes.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Because data transfer rates can be tiered, and the metadata associated with the destination may change, this calculation is a best-effort calculation; however, it does help to identify cost hotspots within your network.</p></div></div><p>The flow logs cost calculation is based on the following formula:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>d</mi><mtext> </mtext><mi>C</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><mi>R</mi><mi>a</mi><mi>t</mi><msub><mi>e</mi><mi>i</mi></msub><mo>×</mo><mi>V</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><msub><mi>e</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Estimated\ Cost=\sum_{i=1}^{N} (Rate_{i} \times Volume_{i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ima</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span></span></span></span></span> is the total number of data flows.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the rate (cost per unit of data) for the <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span></span>-th flow.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">V_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the volume of data transferred for the <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span></span>-th flow.</li></ul><p>Vantage first identifies the different flows of data within your network. It uses information provided within the AWS Cost and Usage Reports (CUR) to determine the specific rate (cost per unit of data) that applies to each type of data flow (e.g., cross-AZ, public). Each rate for each data flow is multiplied by the amount of data transferred in that flow. The estimated cost is then determined by the sum of these products.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-costs-on-cost-reports">Network Costs on Cost Reports<a href="#network-costs-on-cost-reports" class="hash-link" aria-label="Direct link to Network Costs on Cost Reports" title="Direct link to Network Costs on Cost Reports">​</a></h2><p>On <a href="/cost_reports">Cost Reports</a>, for resources that generate network traffic costs (e.g., NAT Gateways), a <strong>Network Costs</strong> button is displayed in the Cost Report list. Click this button to view a Network Flow Report that is filtered to flows coming from that specific resource.</p><p>The below Cost Report is grouped by <strong>Service</strong> and <strong>Resource</strong>.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Network Costs option on a Cost Report" width="100%" src="/img/nfr-cost-report.png" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nfr-examples">Network Flow Report Examples<a href="#nfr-examples" class="hash-link" aria-label="Direct link to Network Flow Report Examples" title="Direct link to Network Flow Report Examples">​</a></h2><p>The following examples demonstrate common scenarios for using Network Flow Reports. These examples are based on the three reports that Vantage provides by default: <em>All Network Flow Logs</em>, <em>Cross-AZ Traffic</em>, and <em>Public Traffic Destinations</em>.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Sample Network Flow Report with cross-AZ and public traffic" width="80%" src="/img/nfr-sample.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1-view-all-network-traffic">Example 1: View All Network Traffic<a href="#example-1-view-all-network-traffic" class="hash-link" aria-label="Direct link to Example 1: View All Network Traffic" title="Direct link to Example 1: View All Network Traffic">​</a></h3><p>The <strong>All Network Flow Logs</strong> report shows all your network flows. The flow’s Resource UUID and Peer Resource UUID are provided as well as the traffic category (e.g., public). Review this report to get a high-level view of all your traffic flows.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Sample Network Flow Report with cross-AZ and public traffic" width="100%" src="/img/nfr-start.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2-identify-cross-az-traffic">Example 2: Identify Cross-AZ Traffic<a href="#example-2-identify-cross-az-traffic" class="hash-link" aria-label="Direct link to Example 2: Identify Cross-AZ Traffic" title="Direct link to Example 2: Identify Cross-AZ Traffic">​</a></h3><p>Cross-AZ data transfer within AWS incurs higher costs compared to intra-AZ data transfer. <a href="https://aws.amazon.com/ec2/pricing/on-demand/#Data_Transfer" target="_blank" rel="noopener noreferrer">According to AWS</a>, “For data transferred between a Local Zone and an Availability Zone within the same AWS Region, &quot;in&quot; to and &quot;out&quot; from Amazon EC2 in the Local Zone” data is charged at $0.01/GB for <em>both</em> transfer in and transfer out. Transferring data between AZs requires more network bandwidth compared to transferring data within the same AZ. This additional bandwidth consumption contributes to higher costs.</p><p>In the provided cross-AZ report, you can view all cross-AZ traffic along with flow size and estimated cost. The <strong>Peer Availability Zone ID</strong> column shows exactly where the traffic is flowing. You can see both the source and peer AZs along with the associated source and peer resources.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Sample Network Flow Report with all cross-AZ traffic" width="100%" src="/img/nfr-az.png" class="img_ev3q"></div><p>Review the highest-costing flows and consider the following tips:</p><ul><li>Try to place dependent resources within the same AZ to minimize cross-AZ data transfer.</li><li>Use <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-access-aws-services.html" target="_blank" rel="noopener noreferrer">VPC endpoints</a> to route traffic internally within AWS, reducing the need for cross-AZ traffic. This can help in minimizing data transfer costs and enhance security by keeping everything in the same VPC.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-3-examine-public-traffic">Example 3: Examine Public Traffic<a href="#example-3-examine-public-traffic" class="hash-link" aria-label="Direct link to Example 3: Examine Public Traffic" title="Direct link to Example 3: Examine Public Traffic">​</a></h3><p>When monitoring network costs, analyzing public traffic can reveal significant insights about where your traffic is going when it reaches the public internet. By analyzing destination details, you can ensure that traffic is taking the correct path or is going only to trusted and necessary endpoints. In this report, the <strong>Destination Hostname</strong> grouping/column provides a human-readable format of the destination, helping you quickly identify known destination services or endpoints.</p><div style="display:flex;justify-content:center"><img loading="lazy" alt="Sample Network Flow Report with all public traffic" width="100%" src="/img/nfr-public.png" class="img_ev3q"></div><p>Vantage identifies hostnames using a reverse DNS lookup, or when vendors publish static IP address ranges, such as Datadog, Vantage can associate these IP addresses with the name of the service. The <strong>Destination Address</strong> provides the exact IP address, which is useful for detailed analysis to ensure traffic is reaching the intended destinations.</p><p>Examine this report to understand which resources are generating public traffic and where that traffic is going. Consider whether you might use alternative services, like AWS <a href="https://aws.amazon.com/directconnect/" target="_blank" rel="noopener noreferrer">Direct Connect</a>, <a href="https://aws.amazon.com/cloudfront/" target="_blank" rel="noopener noreferrer">CloudFront</a>, or <a href="https://docs.aws.amazon.com/whitepapers/latest/aws-vpc-connectivity-options/aws-privatelink.html" target="_blank" rel="noopener noreferrer">PrivateLink</a>, to optimize data transfer and reduce costs.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/network_flow_reports.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/active_resources"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Resource Reports</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/segments"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Segments</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup" class="table-of-contents__link toc-highlight">Set Up VPC Flow Log Integration</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#cost-to-enable-vpc-flow-logs-in-aws" class="table-of-contents__link toc-highlight">Cost to Enable VPC Flow Logs in AWS</a></li></ul></li><li><a href="#enable-the-integration" class="table-of-contents__link toc-highlight">Enable the Integration</a></li><li><a href="#unsupported-logs" class="table-of-contents__link toc-highlight">Unsupported Logs</a></li><li><a href="#manage-existing-integrations" class="table-of-contents__link toc-highlight">Manage Existing Integrations</a></li></ul></li><li><a href="#create-a-new-network-flow-report" class="table-of-contents__link toc-highlight">Create a New Network Flow Report</a></li><li><a href="#filter-and-group-a-network-flow-report" class="table-of-contents__link toc-highlight">Filter and Group a Network Flow Report</a><ul><li><a href="#apply-filter-criteria" class="table-of-contents__link toc-highlight">Apply Filter Criteria</a></li><li><a href="#apply-grouping-criteria" class="table-of-contents__link toc-highlight">Apply Grouping Criteria</a></li><li><a href="#flow-weight" class="table-of-contents__link toc-highlight">Adjust Flow Weight</a></li></ul></li><li><a href="#view-flow-log-metadata" class="table-of-contents__link toc-highlight">View Flow Log Metadata</a></li><li><a href="#estimated-cost" class="table-of-contents__link toc-highlight">Estimated Cost Calculation for Network Flows</a></li><li><a href="#network-costs-on-cost-reports" class="table-of-contents__link toc-highlight">Network Costs on Cost Reports</a></li><li><a href="#nfr-examples" class="table-of-contents__link toc-highlight">Network Flow Report Examples</a><ul><li><a href="#example-1-view-all-network-traffic" class="table-of-contents__link toc-highlight">Example 1: View All Network Traffic</a></li><li><a href="#example-2-identify-cross-az-traffic" class="table-of-contents__link toc-highlight">Example 2: Identify Cross-AZ Traffic</a></li><li><a href="#example-3-examine-public-traffic" class="table-of-contents__link toc-highlight">Example 3: Examine Public Traffic</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/getting_started">Integrations Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/cost_reports">Cost Reports</a></li><li class="footer__item"><a class="footer__link-item" href="/autopilot">Autopilot</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Product Changelog</a></li><li class="footer__item"><a class="footer__link-item" href="/vantage_university">Vantage University</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vantage.sh/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handbook.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Costs Handbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://instances.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS Instances Pricing<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://instances.vantage.sh/azure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Azure VM Pricing Comparison<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vantage.readme.io/reference/general" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://vantage.sh/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vantage Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/vantage-sh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://status.vantage.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vantage Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.vantage.sh/about/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/website-terms-of-use" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/service-agreement" target="_blank" rel="noopener noreferrer" class="footer__link-item">VNTG Service Agreement<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vantage.sh/subprocessors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Authorized Sub-Processors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/vantage-footer-logo.svg" alt="Vantage" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/vantage-footer-logo.svg" alt="Vantage" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2024 VNTG, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.15fd85bc.js"></script>
<script src="/assets/js/main.7a8cb1d2.js"></script>
</body>
</html>